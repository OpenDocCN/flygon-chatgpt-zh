- en: '[CHAPTER 4](toc.xhtml#c04)'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[第4章](toc.xhtml#c04)'
- en: '[Architecture Patterns enabled by GPT-Models](toc.xhtml#c04)'
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[由GPT模型启用的架构模式](toc.xhtml#c04)'
- en: '[Introduction](toc.xhtml#s225a)'
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[介绍](toc.xhtml#s225a)'
- en: Building on the foundations laid in our previous chapter, where we explored
    the transformative impact of our AI-capability framework, CapabilityGPT, across
    various enterprise roles, we now turn our focus to the underlying solution architectures..
    In this chapter, we delve into advanced patterns for creating high-quality GPT-driven
    systems, encompassing both conversational and autonomous solutions.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们之前的章节中奠定了基础，我们探讨了我们的AI能力框架CapabilityGPT在各种企业角色中的变革性影响，现在我们将把焦点转向潜在的解决方案架构。在本章中，我们深入探讨了创建高质量GPT驱动系统的高级模式，涵盖了对话和自主解决方案。
- en: Before we dive into the individual patterns, we first introduce the concept
    of an **Architecture Pattern** in the respective subchapter. Here we break down
    the core components of these patterns, including their layers, workflows, quality
    aspects, and potential use cases.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们深入讨论各个模式之前，我们首先在各自的子章节中介绍**架构模式**的概念。在这里，我们分解了这些模式的核心组件，包括它们的层、工作流程、质量方面和潜在的用例。
- en: 'With this foundation, we organize the rest of the chapter into four main sections,
    each focusing on a distinct category of architecture patterns:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这个基础，我们将本章的其余部分组织成四个主要部分，每个部分都专注于不同类别的架构模式：
- en: '**Foundational Conversational Patterns (A)**: These include the basic components
    of GPT-driven conversational systems, laying the groundwork for all further enhancements
    and integrations.'
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基础对话模式（A）：**这些包括GPT驱动对话系统的基本组件，为所有进一步的增强和集成奠定了基础。'
- en: '**Conversational Patterns with External Tool Integration (B):** These demonstrate
    advanced solution designs integrating GPT models with enterprise applications
    and search engines during a conversation.'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**与外部工具集成的对话模式（B）：**这些展示了在对话过程中将GPT模型与企业应用程序和搜索引擎集成的高级解决方案设计。'
- en: '**Conversational Patterns with Fine-tuned Models (C):** These showcase specific
    designs that leverage retrained models, based on GPT-technology or open source,
    to generate more accurate and domain-specific responses.'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**具有精细调整模型的对话模式（C）：**这些展示了利用重新训练的模型的特定设计，基于GPT技术或开源，以生成更准确和特定领域的响应。'
- en: '**Agent Patterns (D):** These delve into the architectural integration of specialized
    agents[¹](#ftn1a) with GPT-models, focusing on automation, adaptation, and collaboration.'
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**代理模式（D）：**这些深入探讨了专门代理与GPT模型的架构集成，重点放在自动化、适应和协作上。'
- en: Each section provides a detailed examination of the patterns, complete with
    their workflows and potential use cases, offering a comprehensive understanding
    of how to deploy GPT models effectively across various conversational contexts,
    tool integrations, collaboration settings, and automation scenarios.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 每个部分都提供了对模式的详细审查，包括它们的工作流程和潜在的用例，全面了解如何在各种对话环境、工具集成、协作设置和自动化场景中有效部署GPT模型。
- en: We conclude the chapter with insights and guidelines on selecting the most appropriate
    architecture pattern for different application needs.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 我们以选择不同应用需求最合适的架构模式的见解和指南结束本章。
- en: '[Structure](toc.xhtml#s226a)'
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[结构](toc.xhtml#s226a)'
- en: 'In this chapter, the following topics will be covered:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，将涵盖以下主题：
- en: Architecture Pattern Definition
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 架构模式定义
- en: Foundational Conversational Patterns
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基础对话模式
- en: Conversational Patterns with External Tool Integration
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与外部工具集成的对话模式
- en: Conversational Patterns with Fine-tuned Models
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有精细调整模型的对话模式
- en: Agent Patterns
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 代理模式
- en: Recommendations for Architecture Patterns
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 架构模式的建议
- en: '[Architecture Pattern Definition](toc.xhtml#s227a)'
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[架构模式定义](toc.xhtml#s227a)'
- en: 'The term **Architecture Pattern** refers to a general, reusable solution to
    a recurring design problem in a given context. It provides an abstract framework
    that outlines the subsystems or components involved, their responsibilities, and
    how they interact. Architecture patterns facilitate system design by providing
    proven solutions, improving developer efficiency, and reducing potential design
    risks. They consist of the following elements:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 术语**架构模式**指的是在特定上下文中针对重复设计问题的一般可重用解决方案。它提供了一个概要框架，概述了所涉及的子系统或组件、它们的责任以及它们的交互方式。架构模式通过提供经过验证的解决方案、提高开发人员效率和减少潜在的设计风险来促进系统设计。它们包括以下元素：
- en: '**Components by Layer**: Each pattern operates within a layered system to ensure
    separation of concerns and maintainability. Each layer hosts specific components
    performing distinct functions. A common layered structure includes a User Experience
    Layer, an Application Layer, and an AI Layer. The specific components within these
    layers vary depending on the pattern, but all play crucial roles in system operations.'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**按层组件**：每个模式在分层系统内运行，以确保关注点的分离和可维护性。每个层都承载执行不同功能的特定组件。一个常见的分层结构包括用户体验层、应用层和AI层。这些层内的具体组件因模式而异，但在系统运行中都发挥着关键作用。'
- en: '**Workflow**: The workflow describes the sequence of operations that occur
    when the system is running, from the point of user input to the generated response.
    This also includes any intermediate steps such as pre-processing, prompt generation,
    response filtering, and so on, as dictated by the specific architecture pattern.'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**工作流程**：工作流程描述了系统运行时发生的操作序列，从用户输入到生成的响应。这还包括任何中间步骤，如预处理、提示生成、响应过滤等，根据特定的架构模式来决定。'
- en: '**Enterprise Integration**: The architecture patterns form an integral part
    of a larger organizational IT landscape. As such, they must establish a harmonious
    interaction with existing enterprise applications, databases, and knowledge repositories.
    Each pattern details the means and degree of this integration, and the subsequent
    implications it has on the system’s functionality.'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**企业集成**：这些架构模式构成了更大的组织IT景观的一个组成部分。因此，它们必须与现有的企业应用程序、数据库和知识库建立和谐的互动关系。每种模式都详细说明了这种集成的手段和程度，以及它对系统功能的后续影响。'
- en: '**Output Quality**: This refers to the relevance, accuracy, and usability of
    the system’s generated responses. The quality can be influenced by several factors,
    such as the usage of response filters for quality checks, the application of grounding
    and enrichment processes for better context, or the employment of multiple GPT
    models for optimized responses. Each pattern outlines the mechanisms impacting
    the output quality and their effects on the system’s response accuracy and relevance.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**输出质量**：这指的是系统生成的响应的相关性、准确性和可用性。质量可以受到多种因素的影响，例如使用响应过滤器进行质量检查、应用基础和丰富过程以获得更好的上下文，或者使用多个GPT模型进行优化响应。每种模式都概述了影响输出质量的机制及其对系统响应准确性和相关性的影响。'
- en: '**Performance**: This denotes the efficiency and speed of the system’s operations.
    The performance can vary based on task complexity, the number of employed GPT
    models, the extent of application integrations, and the type of tasks executed.
    Each pattern details its performance characteristics, discussing factors that
    affect its computational efficiency and response speed.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**性能**：这指的是系统操作的效率和速度。性能可以根据任务复杂性、使用的GPT模型数量、应用集成的程度以及执行的任务类型而有所不同。每种模式都详细说明了其性能特征，讨论了影响其计算效率和响应速度的因素。'
- en: '**Use Cases**: Each architecture pattern is designed to meet specific needs
    or solve particular problems. The use cases provide practical examples of situations
    where each pattern might be the best fit. These can range from basic Q&A bots
    to more sophisticated, context-aware solutions.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用案例**：每种架构模式都设计用于满足特定需求或解决特定问题。使用案例提供了每种模式可能最适合的实际情况的实际示例。这些可以从基本的问答机器人到更复杂的、具有上下文意识的解决方案。'
- en: In the subsequent sections, we will apply this structure to describe various
    GPT-driven architecture patterns, each addressing a unique set of requirements.
    By the end, you should have a comprehensive understanding of these patterns to
    be able to choose the most suitable one for your specific needs.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的章节中，我们将应用这种结构来描述各种GPT驱动的架构模式，每种模式都解决了一组独特的需求。最终，您应该对这些模式有全面的了解，以便能够选择最适合您特定需求的模式。
- en: '[Foundational Conversational Patterns](toc.xhtml#s228a)'
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[基础对话模式](toc.xhtml#s228a)'
- en: 'This section delves into four foundational architecture patterns for building
    conversational systems powered by GPT models. Each pattern represents an increasing
    level of sophistication, offering different degrees of interaction, knowledge
    integration, and quality control:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 本节深入探讨了四种基于GPT模型的对话系统的基础架构模式。每种模式代表了不断增加的复杂程度，提供了不同程度的互动、知识集成和质量控制：
- en: '**Basic Conversation (A1):** This pattern delineates the fundamental structure
    for an end-to-end conversational solution utilizing a GPT model. This solution
    processes user queries and generates responses, offering straightforward functionality
    ideal for Q&A interactions and basic user engagement activities.'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基本对话（A1）：**这种模式描述了利用GPT模型的端到端对话解决方案的基本结构。这种解决方案处理用户查询并生成响应，提供了适用于问答交互和基本用户参与活动的简单功能。'
- en: '**Grounded Conversation (A2):** This pattern extends the basic GPT-driven solution
    by integrating a knowledge base, thereby enriching a GPT model’s capabilities
    with domain-specific knowledge. The improved response quality and relevance make
    it suitable for situations that require more nuanced, context-aware interactions.'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基础对话（A2）：**这种模式通过集成知识库扩展了基本的GPT驱动解决方案，从而丰富了GPT模型的能力，具有特定领域的知识。改进的响应质量和相关性使其适用于需要更加细致、具有上下文意识的交互的情况。'
- en: '**Mixed-initiative Conversation (A3):** This pattern introduces an interactive,
    GPT-powered solution that’s designed to not only respond to user queries but also
    to generate queries or provide instructions. This additional interactivity fosters
    user engagement and delivers a more dynamic conversational experience.'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**混合主动对话（A3）：**这种模式引入了一个交互式的、由GPT驱动的解决方案，旨在不仅响应用户查询，还要生成查询或提供指示。这种额外的互动促进了用户参与，并提供了更动态的对话体验。'
- en: '**Quality-controlled Conversation (A4):** This advanced pattern presents a
    quality-controlled conversational solution, featuring a secondary GPT model as
    a critic. This critic evaluates the primary model’s responses, facilitating an
    iterative feedback loop that progressively improves the response quality. It’s
    an ideal pattern for applications where the quality of generated responses is
    paramount.'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**质量控制对话（A4）：**这种高级模式提供了一个质量受控的对话解决方案，其中包括一个次要的GPT模型作为评论者。这个评论者评估主要模型的响应，促进一个逐步改进响应质量的迭代反馈循环。这是一个适用于生成响应质量至关重要的应用程序的理想模式。'
- en: In the subsequent subchapters, we will dive deeper into each pattern, providing
    detailed descriptions, workflow explanations, and real-world use cases.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的子章节中，我们将深入探讨每种模式，提供详细的描述、工作流说明和真实世界的使用案例。
- en: '[A1 Basic Conversation](toc.xhtml#s229a)'
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[A1基本对话](toc.xhtml#s229a)'
- en: This pattern describes a basic architectural setup for implementing a GPT-based
    chatbot in an enterprise environment. It leverages the power of a GPT model to
    generate meaningful responses to user queries while maintaining a user-friendly
    interface (see *[Figure 4.1](#fig4_1)*).
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式描述了在企业环境中实现基于GPT的聊天机器人的基本架构设置。它利用了GPT模型的强大功能，以生成对用户查询有意义的响应，同时保持用户友好的界面（见*[图4.1](#fig4_1)*）。
- en: '![](images/Figure-4.1.jpg)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-4.1.jpg)'
- en: '**[Figure 4.1](#fig4_1):** Basic conversation'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '**[图4.1](#fig4_1):** 基本对话'
- en: '[User Experience Layer](toc.xhtml#s230a)'
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用户体验层](toc.xhtml#s230a)'
- en: This layer primarily focuses on how users interact with the solution. It employs
    a Standard Chatbot User Interface, which could be a simple text box or a more
    advanced user interface with voice and avatar capabilities. This layer is responsible
    for capturing user input (utterances) and presenting responses from the AI layer
    in an understandable and user-friendly manner.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层主要关注用户如何与解决方案进行交互。它采用标准的聊天机器人用户界面，可以是一个简单的文本框，也可以是一个具有语音和头像功能的更高级用户界面。这一层负责捕捉用户输入（话语）并以用户友好的方式呈现来自AI层的响应。
- en: '[Application Layer](toc.xhtml#s231a)'
  id: totrans-42
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[应用层](toc.xhtml#s231a)'
- en: This layer bridges the user experience and AI layers. It performs the critical
    function of converting the raw user input into a format suitable for a GPT model
    (prompt generation) and filtering the generated responses based on the enterprise’s
    rules and requirements (response filtering).
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层连接了用户体验和AI层。它执行将原始用户输入转化为适合GPT模型的格式（提示生成）以及根据企业规则和要求过滤生成的响应的关键功能。
- en: 'Prompt Generator: This component translates user utterances into appropriate
    prompts for a GPT model. First, it selects a predefined prompt template[²](#ftn2a),
    which matches the user input. Then it instantiates the template with the details
    from the input. An example is shown here:'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提示生成器：该组件将用户的话语转化为适合GPT模型的提示。首先，它选择与用户输入匹配的预定义提示模板[²](#ftn2a)，然后用输入的细节实例化模板。示例如下：
- en: 'Input by a Service Agent: “A key customer keeps raining unjustified complaints.
    Today we received another such complaint. Can we reject it, or do we need to accept
    it due to the customer’s importance?”'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 服务代理输入：“一个重要客户不断提出不合理的投诉。今天我们收到了另一份这样的投诉。我们可以拒绝吗，还是因为客户的重要性而需要接受？”
- en: 'Resulting Prompt for a GPT model:'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GPT模型的提示：
- en: '“Expert Persona: You are a customer relations specialist at a company that
    values both customer satisfaction and fair policies.'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “专家角色：您是一家重视客户满意度和公平政策的公司的客户关系专家。
- en: 'Context: A service agent provided the following information ‘A key customer
    keeps raining unjustified complaints. Today we received another such complaint.
    Can we reject it, or do we need to accept it due to the customer’s importance?’.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 背景：一名服务代理提供了以下信息：“一个重要客户不断提出不合理的投诉。今天我们收到了另一份这样的投诉。我们可以拒绝吗，还是因为客户的重要性而需要接受？”
- en: 'Task Specification:'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任务规范：
- en: Summarize the decision-relevant aspects of the complaint.
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 总结投诉中与决策相关的方面。
- en: Determine whether it is justified or unjustified based on company standards
    and past interactions.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据公司标准和过往互动，确定投诉是否合理或不合理。
- en: Weigh the importance of this customer against the fairness of accepting or rejecting
    the complaint.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 权衡这个客户的重要性和接受或拒绝投诉的公平性。
- en: 'Execution Rules:'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 执行规则：
- en: Ensure that all decisions are made with respect to company guidelines and ethical
    standards.
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保所有决定都符合公司指南和道德标准。
- en: Prioritize the long-term relationship with the customer, while also upholding
    the integrity and reputation of the company.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 优先考虑与客户的长期关系，同时维护公司的诚信和声誉。
- en: Take into consideration any patterns in the customer’s past complaints.
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 考虑客户过去投诉中的任何模式。
- en: 'Output Constraints:'
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 输出约束：
- en: Provide a reasoned decision on whether to accept or reject the complaint in
    a concise response no longer than 150 words.”
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在不超过150个字的简洁回复中，就是否接受或拒绝投诉做出合理的决定。”
- en: 'Response Filtering: Each generated response is checked against a set of criteria
    such as appropriateness, relevance, completeness, and coherence. If a response
    passes these checks, it is sent back to the user through the User Experience Layer.
    Otherwise, a default message is displayed.'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 响应过滤：每个生成的响应都会经过一系列标准的检查，如适当性、相关性、完整性和连贯性。如果响应通过了这些检查，它将通过用户体验层发送回用户。否则，将显示默认消息。
- en: '[AI Layer](toc.xhtml#s232a)'
  id: totrans-60
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[AI层](toc.xhtml#s232a)'
- en: At the core of this pattern is the AI layer, which utilizes a GPT model as a
    response generator. This layer accepts the processed prompts from the Application
    Layer and leverages the knowledge embedded in the pre-trained GPT model to generate
    responses.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式的核心是AI层，它利用GPT模型作为响应生成器。该层接受应用层处理的提示，并利用预先训练的GPT模型中嵌入的知识生成响应。
- en: '[Pattern Workflow](toc.xhtml#s233a)'
  id: totrans-62
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流程](toc.xhtml#s233a)'
- en: The User interacts with the Chatbot Interface by inputting a question or command.
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户通过输入问题或命令与聊天机器人界面进行交互。
- en: The Application Layer takes the user input and translates it into a prompt suitable
    for a GPT model, based on a repository of prompt templates.
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应用层接收用户输入并根据提示模板库将其转化为适合GPT模型的提示。
- en: The AI Layer, specifically a GPT model, generates a response based on the given
    prompt.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: AI层，特别是GPT模型，根据给定的提示生成响应。
- en: The Application Layer receives the response and applies filters to check if
    it meets the defined criteria.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应用层接收响应并应用过滤器检查是否符合定义的标准。
- en: If the response passes the filter, it is sent back to the user through the User
    Experience Layer. If it fails the filter, a default message is displayed to the
    user.
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果响应通过了过滤器，它将通过用户体验层发送回用户。如果未通过过滤器，将向用户显示默认消息。
- en: '[Enterprise Integration](toc.xhtml#s234a)'
  id: totrans-68
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[企业集成](toc.xhtml#s234a)'
- en: The Basic Conversation pattern neither interacts with enterprise applications
    nor taps into an internal knowledge base. Furthermore, while the system does consider
    the conversation history as context, it predominantly depends on the information
    supplied by the user. As a result, the system’s responses are confined to the
    knowledge instilled in the AI model during its training phase. Such responses
    are general and lack enrichment with organization-specific insights or real-time
    data from enterprise applications and databases, posing a considerable constraint
    for many applications.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 基本对话模式既不与企业应用程序交互，也不利用内部知识库。此外，虽然系统确实考虑了对话历史作为上下文，但它主要依赖用户提供的信息。因此，系统的响应局限于AI模型在训练阶段灌输的知识。这样的响应是一般的，缺乏组织特定见解或来自企业应用程序和数据库的实时数据的丰富化，这对许多应用程序构成了相当大的限制。
- en: '[Output Quality](toc.xhtml#s235a)'
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[输出质量](toc.xhtml#s235a)'
- en: This pattern offers decent output quality for straightforward and generic inquiries,
    a quality it owes primarily to the power of advanced GPT models. Additionally,
    basic quality checks are implemented within the response filter, which aids in
    maintaining the appropriateness, relevance, and accuracy of the generated responses.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式为简单和通用的查询提供了不错的输出质量，这主要归功于先进的GPT模型的强大。此外，基本的质量检查也在响应过滤器中实施，有助于保持生成的响应的适当性、相关性和准确性。
- en: '[Performance](toc.xhtml#s236a)'
  id: totrans-72
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[性能](toc.xhtml#s236a)'
- en: This pattern stands out in computational performance due to its minimalistic
    design. With a single interaction between the user and GPT model per input, it
    ensures quick responses and lower computational load. This streamlined approach
    enables the system to handle larger volumes of user queries efficiently thus,
    increasing the scalability.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 由于其简约的设计，这种模式在计算性能方面脱颖而出。每次输入用户和GPT模型之间只有一次交互，确保快速响应和较低的计算负载。这种简化的方法使系统能够高效处理更大量的用户查询，从而提高了可扩展性。
- en: '[Use Cases](toc.xhtml#s237a)'
  id: totrans-74
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[使用案例](toc.xhtml#s237a)'
- en: Given the basic nature of this pattern, it’s suitable for simple Q&A tasks,
    where there is no need for contextual understanding or access to a dedicated knowledge
    base. It can be employed in scenarios like simple FAQ bots, prompt-response systems,
    or basic user engagement activities. It is not intended for tasks requiring complex
    dialogue management, context-aware responses, or access to a dynamic, and up-to-date
    knowledge base.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到这种模式的基本性质，它适用于简单的问答任务，不需要上下文理解或访问专用知识库。它可以用于简单的常见问题解答机器人、提示-响应系统或基本用户参与活动等场景。它不适用于需要复杂的对话管理、上下文感知响应或访问动态和最新知识库的任务。
- en: '[A2 Grounded Conversation](toc.xhtml#s238a)'
  id: totrans-76
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[A2接地对话](toc.xhtml#s238a)'
- en: This architecture pattern enhances the capabilities of the basic chatbot, by
    combining the flexibility of GPT models with domain-specific knowledge and data
    from the organization’s existing systems (see *[Figure 4.2](#fig4_2)*).
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 这种架构模式通过将GPT模型的灵活性与组织现有系统的领域特定知识和数据相结合，增强了基本聊天机器人的能力（见*[图4.2](#fig4_2)*）。
- en: '![](images/Figure-4.2.jpg)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-4.2.jpg)'
- en: '**[Figure 4.2](#fig4_2):** Grounded conversation'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '**[图4.2](#fig4_2)：** 接地对话'
- en: '[User Experience Layer](toc.xhtml#s239a)'
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用户体验层](toc.xhtml#s239a)'
- en: This layer is the same as in the A1 pattern.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层与A1模式相同。
- en: '[Application Layer](toc.xhtml#s240a)'
  id: totrans-82
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[应用层](toc.xhtml#s240a)'
- en: 'This layer acts as a bridge between the User Experience and AI layers. It houses
    the following components:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层充当用户体验和AI层之间的桥梁。它包含以下组件：
- en: '**Enterprise Applications and Databases**: These are sources for enterprise-specific
    data and can be accessed via API calls.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**企业应用程序和数据库**：这些是企业特定数据的来源，可以通过API调用访问。'
- en: '**Pre-Processor**: This component retrieves relevant data from enterprise applications
    and databases, and queries a knowledge base, enriching the user’s input. Any required
    quality checks and transformations into text format are also performed here.'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**预处理器**：该组件从企业应用程序和数据库中检索相关数据，并查询知识库，丰富用户的输入。任何必要的质量检查和转换成文本格式也在这里执行。'
- en: '**Prompt Generator**: This component takes the enriched user input from the
    Pre-Processor, and converts it into a prompt format that the used GPT model can
    understand and process.'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**提示生成器**：该组件从预处理器获取丰富的用户输入，并将其转换为GPT模型可以理解和处理的提示格式。'
- en: '**Response Filter**: This component evaluates a GPT model’s responses against
    certain criteria, such as relevance, appropriateness, completeness, and coherency,
    like the basic pattern. If a response fails these checks, a default message is
    returned to the user.'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**响应过滤器**：该组件评估GPT模型的响应是否符合特定标准，如相关性、适当性、完整性和连贯性，就像基本模式一样。如果响应未通过这些检查，将向用户返回默认消息。'
- en: '[AI Layer](toc.xhtml#s241a)'
  id: totrans-88
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[AI层](toc.xhtml#s241a)'
- en: 'This layer is integral to AI-driven interactions. It comprises two essential
    components: a GPT model and an internal knowledge base.'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层对基于AI的交互至关重要。它包括两个基本组件：GPT模型和内部知识库。
- en: '**Knowledge Base**: Positioned within the AI layer alongside a GPT model, the
    knowledge base is a reservoir of domain-specific knowledge. This knowledge base,
    typically in the form of a document database[³](#ftn3a), graph database[⁴](#ftn4a),
    or vector database[⁵](#ftn5a), provides an added layer of industry and/or organization-specific
    detail.'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**知识库**：位于AI层内部，与GPT模型并列，是领域特定知识的储备库。这个知识库通常以文档数据库[³](#ftn3a)、图数据库[⁴](#ftn4a)或向量数据库[⁵](#ftn5a)的形式存在，提供了一个行业和/或组织特定细节的附加层。'
- en: '**GPT Model**: It generates coherent and contextually relevant responses by
    utilizing the enriched prompts supplied by the Application Layer. Notably, the
    model applies its pre-training knowledge to the combined input from the user,
    the enterprise data sources and the knowledge base.'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**GPT模型**：它通过利用应用层提供的丰富提示生成连贯且上下文相关的响应。值得注意的是，该模型将其预训练知识应用于用户、企业数据源和知识库的综合输入。'
- en: '[Pattern Workflow](toc.xhtml#s242a)'
  id: totrans-92
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流]'
- en: The User interacts with the Chatbot Interface, providing input or asking questions.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户与聊天机器人界面进行交互，提供输入或提出问题。
- en: The Pre-Processor in the Application Layer fetches any necessary data from enterprise
    applications and databases, based on the original user input.
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应用程序层的预处理器根据原始用户输入从企业应用程序和数据库中获取任何必要的数据。
- en: The Pre-Processor then sifts through the knowledge base, searching for pertinent
    information related to the user’s input. It could employ a traditional keyword-based
    search for direct matches, or, in the case of an underlying vector database, a
    semantic search relying on the similarity of vector encodings of search query
    and candidate documents for a broader, context-aware match.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，预处理器通过知识库搜索与用户输入相关的相关信息。它可以使用传统基于关键词的搜索来直接匹配，或者在基础向量数据库的情况下，依赖于搜索查询和候选文档的向量编码的相似性进行语义搜索，以进行更广泛的、上下文感知的匹配。
- en: The Pre-Processor further refines the supplemented input through tasks like
    data cleansing, normalization, removal of personally identifiable information
    (PII), and partitioning of long texts into manageable chunks to adhere to the
    input size limitations of the underlying GPT model.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 预处理器通过数据清洗、规范化、删除个人可识别信息（PII）和将长文本分成可管理的块等任务进一步完善了补充输入，以符合底层GPT模型的输入大小限制。
- en: The enriched input is then transformed into a prompt suitable for a GPT model
    by the Prompt Generator.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Prompt生成器将丰富的输入转换为适合GPT模型的提示。
- en: The AI Layer, or a GPT model, generates a response based on the prompt.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: AI层或GPT模型根据提示生成回应。
- en: The Response Filter checks this response against predefined criteria.
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 响应过滤器根据预定义的标准检查此响应。
- en: If the response passes the filters, it is relayed back to the user through the
    User Experience Layer. If it fails, a default message is provided to the user.
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果响应通过过滤器，则通过用户体验层将其传递回用户。如果失败，将向用户提供默认消息。
- en: '[Pattern Workflow Example](toc.xhtml#s243a)'
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流示例]'
- en: Imagine you have recently installed a smart lightbulb in your living room, but
    it’s not turning on. Seeking quick help, you reach out to the manufacturer’s tech
    support chatbot.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一下，您最近在客厅安装了一个智能灯泡，但它没有开启。寻求快速帮助，您联系制造商的技术支持聊天机器人。
- en: 'Your interaction is: “My living room’s smart light bulb isn’t turning on.”'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 您的交互是：“我的客厅的智能灯泡无法开启。”
- en: 'Here’s how the pattern workflow could play out, where the step numbers of the
    example correspond to the steps in the general workflow:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是模式工作流可能进行的方式，示例中的步骤编号对应于一般工作流程中的步骤：
- en: '**User Interaction**: You’ve told the chatbot about your smart lightbulb problem.'
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户交互：您已经告诉聊天机器人您的智能灯泡问题。
- en: '**Fetching Necessary Data**: Immediately, the Pre-Processor consults the manufacturer’s
    database to determine the exact model and version of the lightbulb you own, along
    with its installation date and any associated devices.'
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取必要的数据：立即，预处理器咨询制造商的数据库，确定您拥有的灯泡的确切型号和版本，以及安装日期和任何相关设备。
- en: '**Sifting Through the Knowledge Base**: Using the details about your specific
    lightbulb model, the Pre-Processor searches the knowledge base—a digital troubleshooting
    manual—for relevant guidance tailored for your bulb model.'
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 搜索知识库：使用有关您特定灯泡型号的详细信息，预处理器搜索知识库——数字故障排除手册——寻找针对您灯泡型号量身定制的相关指导。
- en: '**Refining Input**: The Pre-Processor ensures the instructions are in an order
    that’s easy to follow, stripping out any technical jargon to make it user-friendly.'
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 精炼输入：预处理器确保指令按照易于遵循的顺序排列，剥离任何技术术语，使其用户友好。
- en: '**Prompt Creation**: This is where the chatbot prepares the question or context
    for its main brain. Incorporating the troubleshooting steps, the prompt might
    look something like this: “Given that the ‘ABC Model’ lightbulb isn’t turning
    on, and based on the troubleshooting steps which suggest checking the bulb’s power
    source, verifying its compatibility with the switch, and ensuring the app settings
    are correct, how would you guide the user through these steps in a clear and empathetic
    manner?”'
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提示创建：这是聊天机器人为其主要大脑准备问题或上下文的地方。结合故障排除步骤，提示可能看起来像这样：“鉴于‘ABC型号’灯泡无法开启，并基于建议检查灯泡的电源来源、验证其与开关的兼容性，并确保应用程序设置正确，您将如何以清晰和富有同情心的方式指导用户完成这些步骤？”
- en: '**Response Generation**: With this detailed prompt, the chatbot’s brain (a
    GPT model) generates a coherent and helpful response that navigates you through
    the steps.'
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 响应生成：有了这个详细的提示，聊天机器人的大脑（GPT模型）生成了一个连贯而有用的回答，引导您完成这些步骤。
- en: '**Checking the Response**: A Response Filter evaluates the chatbot’s answer,
    ensuring clarity and hitting all the vital troubleshooting points.'
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查响应：响应过滤器评估聊天机器人的答案，确保清晰并击中所有重要的故障排除点。
- en: '**Delivering the Answer**: Once validated, the chatbot responds: “I’m sorry
    to hear about the issue with your lightbulb. Let’s try these steps for your ‘ABC
    Model’:'
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供答案：经过验证后，聊天机器人回答：“很抱歉听到您的灯泡出了问题。让我们尝试这些步骤适用于您的‘ABC型号’：
- en: First, make sure the bulb is securely screwed into the socket and receiving
    power.
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先确保灯泡牢固地拧入插座并接收电源。
- en: Check if the switch or outlet you’re using is compatible with smart devices.
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查您使用的开关或插座是否与智能设备兼容。
- en: Open the associated app and ensure the bulb’s settings are configured correctly.
    If you continue to face issues after these steps, please get in touch with our
    technical team.”
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开相关应用程序，并确保灯泡的设置正确配置。如果在这些步骤之后仍然遇到问题，请与我们的技术团队联系。
- en: '[Enterprise Integration](toc.xhtml#s244a)'
  id: totrans-116
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[企业集成]'
- en: The Grounded Conversation pattern features robust enterprise data integration
    via API calls. It also accesses a knowledge base to enhance the input with relevant
    domain-specific knowledge. This level of integration allows the system to utilize
    the resources and functions of the organization’s existing IT infrastructure,
    enriching the chatbot’s responses with organizational knowledge and context-awareness.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 基于API调用的强大企业数据集成是基础对话模式的特点。它还访问知识库，以增强输入的相关领域特定知识。这种级别的集成允许系统利用组织现有IT基础设施的资源和功能，通过丰富聊天机器人的响应以组织知识和上下文感知。
- en: '[Output Quality](toc.xhtml#s245a)'
  id: totrans-118
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[输出质量](toc.xhtml#s245a)'
- en: The pattern enhances the output quality by grounding and enriching the prompts
    with enterprise knowledge and data. A GPT model’s context-awareness and its capacity
    to generate more nuanced and tailored responses are both improved by integrating
    enterprise applications, databases, and a knowledge base to supplement user input.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 该模式通过将企业知识和数据与提示相结合，增强了输出质量。通过整合企业应用程序、数据库和知识库来补充用户输入，GPT模型的上下文感知能力和生成更加细致和定制的响应的能力都得到了提高。
- en: Further enhancing the quality of the prompts, the architecture employs pre-processing
    steps such as data cleansing and normalization. These steps eliminate potential
    inaccuracies and inconsistencies in the user’s input and standardize the data,
    ensuring it is in a suitable format for a GPT model to process.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 为了进一步提高提示的质量，架构采用了诸如数据清洗和规范化等预处理步骤。这些步骤消除了用户输入中的潜在不准确性和不一致性，并标准化数据，确保其以适合GPT模型处理的格式呈现。
- en: The pattern also incorporates an output filtering process, similar in principle
    to the one in the Basic Conversation pattern (A1). However, given the higher initial
    quality of the responses due to enriched prompts, the output filter can now focus
    on more specific quality checks.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 该模式还包括一个输出过滤过程，原则上类似于基础对话模式（A1）中的过滤过程。然而，由于丰富的提示导致初始响应质量更高，输出过滤器现在可以专注于更具体的质量检查。
- en: '[Performance](toc.xhtml#s246a)'
  id: totrans-122
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[性能](toc.xhtml#s246a)'
- en: The Grounded Conversation pattern demonstrates more computational complexity
    and less efficiency compared to the Basic Conversation pattern due to the inclusion
    of additional pre-processing steps and integrations.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 与基础对话模式（A1）相比，基础对话模式展示了更多的计算复杂性和较低的效率，这是由于包含了额外的预处理步骤和集成。
- en: '[Use Cases](toc.xhtml#s247a)'
  id: totrans-124
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[使用案例](toc.xhtml#s247a)'
- en: This pattern is appropriate for scenarios that require more nuanced responses
    that leverage internal, domain-specific knowledge, as well as data from enterprise
    applications and databases. It’s suitable for enterprises aiming to provide dynamic,
    context-aware responses such as customer support for specific products or services,
    internal employee assistance, or even personalized user interactions.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 该模式适用于需要利用内部领域特定知识以及来自企业应用程序和数据库的数据的更加细致的响应的情景。它适用于希望提供动态、上下文感知响应的企业，比如特定产品或服务的客户支持、内部员工帮助，甚至个性化用户交互。
- en: '[A3 Mixed-initiative Conversation](toc.xhtml#s248a)'
  id: totrans-126
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[A3混合主动对话](toc.xhtml#s248a)'
- en: This pattern offers an advanced configuration of a GPT-based chatbot with interactive
    capabilities. It enhances the typical user-driven interactions by system-initiated
    questions or instructions to collect information or collaboratively execute a
    process (see *[Figure 4.3](#fig4_3)*).
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 该模式提供了一个具有交互能力的基于GPT的聊天机器人的高级配置。它通过系统发起的问题或指令来增强典型的用户驱动交互，以收集信息或协同执行流程（见*[图4.3](#fig4_3)*）。
- en: '![](images/Figure-4.3.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-4.3.jpg)'
- en: '**[Figure 4.3](#fig4_3):** Mixed-initiative conversation'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '**[图4.3](#fig4_3)：** 混合主动对话'
- en: '[User Experience Layer](toc.xhtml#s249a)'
  id: totrans-130
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用户体验层](toc.xhtml#s249a)'
- en: This layer now supports mixed initiative conversations using a chatbot user
    interface.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层现在支持使用聊天机器人用户界面进行混合主动对话。
- en: '[Application Layer](toc.xhtml#s250a)'
  id: totrans-132
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[应用层](toc.xhtml#s250a)'
- en: 'In addition to the components of the previous pattern, two new components are
    introduced here:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 除了之前模式的组件外，这里还引入了两个新组件：
- en: '**Question/Instruction Filter**: This new component filters the questions or
    instructions generated by a GPT model. Only those fulfilling certain criteria
    are passed on to the user.'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**问题/指令过滤器**：这个新组件过滤了GPT模型生成的问题或指令，只有符合特定标准的才会传递给用户。'
- en: '**User Input Provider**: This component captures user’s responses to the GPT-generated
    questions or instructions, feeding them back into the GPT-model.'
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户输入提供者**：该组件捕获用户对GPT生成的问题或指令的响应，并将其反馈到GPT模型中。'
- en: '[AI Layer](toc.xhtml#s251a)'
  id: totrans-136
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[AI层](toc.xhtml#s251a)'
- en: This layer remains the same as in the Grounded Conversation pattern (A2), hosting
    a GPT model and a knowledge base.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层与基础对话模式（A2）中的情景保持一致，托管着一个GPT模型和一个知识库。
- en: '[Pattern Workflow](toc.xhtml#s252a)'
  id: totrans-138
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流程](toc.xhtml#s252a)'
- en: The User interacts with the Chatbot Interface, providing input or asking questions.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户与聊天机器人界面进行交互，提供输入或提问。
- en: The Pre-Processor in the Application Layer consults the enterprise data sources
    and knowledge base, enriches the user’s input and performs any other required
    data preparation tasks.
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 应用层中的预处理器咨询企业数据源和知识库，丰富用户的输入并执行任何其他所需的数据准备任务。
- en: The augmented input is converted into a suitable prompt for a GPT model.
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强的输入被转换为适合GPT模型的提示。
- en: A GPT model can generate questions/instructions for the user or a response,
    based on the prompt.
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GPT模型可以根据提示为用户生成问题/指令或响应。
- en: GPT-generated questions/instructions are filtered and, if fulfilling the criteria,
    are passed to the user.
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GPT生成的问题/指令经过过滤，如果符合标准，则传递给用户。
- en: The user provides respective feedback, which is captured by the User Input Provider
    and passed on to a GPT model.
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户提供相应的反馈，由用户输入提供者捕获并传递给GPT模型。
- en: Finally, a GPT model generates a response, which is then evaluated by the Response
    Filter.
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，GPT模型生成一个响应，然后由响应过滤器进行评估。
- en: If the response passes the filters, it is relayed back to the user. If it fails,
    a default message is shown.
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果回复通过了过滤器，它将被传递回用户。如果未通过，将显示默认消息。
- en: '[Enterprise Integration](toc.xhtml#s253a)'
  id: totrans-147
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[企业集成](toc.xhtml#s253a)'
- en: This pattern offers the same level of enterprise integration as the Grounded
    Conversation pattern (A2).
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式提供了与基础对话模式（A2）相同水平的企业集成。
- en: '[Output Quality](toc.xhtml#s254a)'
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[输出质量](toc.xhtml#s254a)'
- en: The output quality is higher than in A2 due to additional user input received
    for the questions asked by a GPT model resulting in better contextualized prompts.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 由于GPT模型提出的问题导致提示更具上下文，因此与A2相比，输出质量更高。
- en: '[Performance](toc.xhtml#s255a)'
  id: totrans-151
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[性能](toc.xhtml#s255a)'
- en: The performance during each conversational turn is the same as for A2, while
    the conversation itself is extended due to the additional questions asked by a
    GPT model.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 每次对话轮的性能与A2相同，但由于GPT模型提出的额外问题，对话本身更加延长。
- en: '[Use Cases](toc.xhtml#s256a)'
  id: totrans-153
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[使用案例](toc.xhtml#s256a)'
- en: This architecture type is well-suited for complex, interactive scenarios that
    require dynamic, context-aware responses and user input. Possible applications
    include advanced customer service, interactive user engagement, guided troubleshooting,
    and personalized recommendations.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 这种架构类型非常适合需要动态、上下文感知的回复和用户输入的复杂互动场景。可能的应用包括高级客户服务、互动用户参与、引导式故障排除和个性化推荐。
- en: '[A4 Quality-controlled Conversation](toc.xhtml#s257a)'
  id: totrans-155
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[A4质量控制对话](toc.xhtml#s257a)'
- en: 'This pattern outlines a sophisticated chatbot architecture which enhances the
    conversation quality by using two GPT models: one serving as the primary response
    generator and the other acting as a critic. This configuration offers an iterative
    feedback mechanism for quality control to improve the chatbot’s responses based
    on the feedback provided by the GPT critic (see *[Figure 4.4](#fig4_4)*).'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式概述了一种复杂的聊天机器人架构，通过使用两个GPT模型来提高对话质量：一个作为主要的响应生成器，另一个作为评论家。这种配置提供了一个迭代的反馈机制，用于质量控制，以根据GPT评论家提供的反馈改进聊天机器人的回复（见*[图4.4](#fig4_4)*）。
- en: '![](images/Figure-4.4.jpg)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-4.4.jpg)'
- en: '**[Figure 4.4](#fig4_4):** Quality-controlled conversation'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '**[图4.4](#fig4_4)：** 质量控制对话'
- en: '[User Experience Layer](toc.xhtml#s258a)'
  id: totrans-159
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用户体验层](toc.xhtml#s258a)'
- en: The User Experience Layer remains consistent with the Basic Conversation pattern
    (A1).
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 用户体验层与基础对话模式（A1）保持一致。
- en: '[Application Layer](toc.xhtml#s259a)'
  id: totrans-161
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[应用层](toc.xhtml#s259a)'
- en: 'This layer includes the same types of components as in the **Grounded Conversation**
    pattern (A2), but with some differences in functionality:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层包含与**基础对话**模式（A2）相同类型的组件，但在功能上有一些不同：
- en: '**Prompt Generator**: This component also generates correction prompts when
    needed, based on the feedback from the GPT critic. This functionality enables
    a feedback loop that iteratively improves the quality of the responses.'
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**提示生成器**：该组件还会根据GPT评论家的反馈生成纠正提示。这种功能使得有一个反馈循环，可以逐步改进回复的质量。'
- en: '**Response Filter**: Compared with the **Grounded Conversation** pattern, the
    filtering criteria are now more specific due to the detailed feedback from the
    GPT critic, making the evaluation of responses more context-sensitive and rigorous.'
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**响应过滤器**：与**基础对话**模式相比，由于GPT评论家提供的详细反馈，过滤标准现在更具体，使得对回复的评估更具上下文敏感和严格。'
- en: '[AI Layer](toc.xhtml#s260a)'
  id: totrans-165
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[人工智能层](toc.xhtml#s260a)'
- en: 'This layer hosts two GPT models: one as the main response generator and the
    other as a critic, along with a knowledge base.'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层包含两个GPT模型：一个作为主要的响应生成器，另一个作为评论家，还有一个知识库。
- en: '**Response Generator**: This GPT model generates responses based on the prompts,
    leveraging both its pre-training knowledge and the input derived from the internal
    knowledge base and the enterprise data sources.'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**响应生成器**：这个GPT模型根据提示生成回复，利用其预训练知识以及从内部知识库和企业数据源获取的输入。'
- en: '**GPT Critic**: This GPT model reviews the generated responses for quality.
    It evaluates the prompt and response, and produces feedback on the quality of
    the response. To ensure a high standard of response, the GPT Critic checks each
    generated response against a more detailed set of criteria, which includes appropriateness,
    relevance, factual accuracy, correct reasoning, and potential hallucinations.
    The nature of the critique can vary based on the specific setup. If the same model
    and context used by the Response Generator were also used by the GPT Critic, this
    could lead to a form of self-critique. In this scenario, the model would essentially
    evaluate its own output. However, if a different model or context were used in
    the critique process, this would introduce a new level of independent review,
    thus resulting in a separate critique. This could help provide additional checks
    and balances to ensure the quality of the generated responses. Responses and feedback
    from past iterations could also be included into future prompts for the response
    generator to make it learn from past mistakes.'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**GPT评论家**：这个GPT模型会对生成的回复进行质量评估。它会评估提示和回复，并就回复的质量提供反馈。为了确保高水准的回复，GPT评论家会根据更详细的一套标准对每个生成的回复进行检查，包括恰当性、相关性、事实准确性、正确推理和潜在幻觉。评论的性质可能会根据具体的设置而有所不同。如果响应生成器使用的是相同的模型和上下文，那么GPT评论家也使用相同的模型和上下文，这可能会导致一种自我批评。在这种情况下，模型本质上会评估自己的输出。然而，如果评论过程中使用了不同的模型或上下文，这将引入一个新的独立审查层次，从而产生一个独立的评论。这有助于提供额外的检查和平衡，以确保生成的回复的质量。过去迭代的回复和反馈也可以包含在未来的提示中，以便响应生成器从过去的错误中学习。'
- en: '[Pattern Workflow](toc.xhtml#s261a)'
  id: totrans-169
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流程](toc.xhtml#s261a)'
- en: The User interacts with the Chatbot Interface, providing input or asking questions.
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户与聊天机器人界面进行交互，提供输入或提问。
- en: The Pre-Processor enriches the user’s input with data from the internal knowledge
    base and enterprise data sources, and carries out necessary data preparation tasks.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 预处理器使用内部知识库和企业数据源丰富用户输入，并执行必要的数据准备任务。
- en: The augmented input is transformed into a suitable prompt for a GPT model.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强输入被转换成适合GPT模型的提示。
- en: The GPT Response Generator produces a response based on the prompt.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GPT响应生成器根据提示生成响应。
- en: The prompt and response are fed into the GPT Critic, which provides feedback
    on the quality of the response.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提示和响应被输入到GPT评论者中，评论者对响应的质量提供反馈。
- en: The quality feedback is checked. If all criteria are fulfilled, the original
    response is relayed back to the user. If not, a request for a correction prompt
    is sent to the Prompt Generator.
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查质量反馈。如果所有标准都得到满足，原始响应被传递回用户。如果没有，会向提示生成器发送更正提示的请求。
- en: The correction prompt is fed back into the GPT Response Generator, and a new
    iteration starts.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更正提示被反馈到GPT响应生成器，新的迭代开始。
- en: The process terminates after the critic provides feedback, which passes the
    response filter or after a predefined number of iterations have been completed
    unsuccessfully.
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在评论者提供反馈后，该过程终止，该反馈通过响应过滤器，或者在预定义数量的迭代完成失败后终止。
- en: '[Enterprise Integration](toc.xhtml#s262a)'
  id: totrans-178
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[企业集成](toc.xhtml#s262a)'
- en: This pattern offers the same level of enterprise integration as the Grounded
    pattern (A2).
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式提供了与基础模式（A2）相同水平的企业集成。
- en: '[Output Quality](toc.xhtml#s263a)'
  id: totrans-180
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[输出质量](toc.xhtml#s263a)'
- en: The grounding and enriching of prompts with enterprise data and knowledge is
    a feature maintained from previous patterns, which ensures that the generation
    of responses are grounded in an enterprise-specific context.
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 通过企业数据和知识对提示进行基础和丰富是从以前的模式中保留下来的特性，这确保了响应的生成基于企业特定的上下文。
- en: Unique to this pattern, the GPT critic reviews the responses from the GPT response
    generator. It evaluates the prompt, and the response generated, providing feedback
    that is used by the response filter to improve the quality of the responses in
    an iterative feedback loop. This process helps ensure the relevance, coherence,
    and overall quality of the responses, as they are continually refined until they
    meet predefined quality standards.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 与这种模式独有的是，GPT评论者审查来自GPT响应生成器的响应。它评估提示和生成的响应，提供的反馈被响应过滤器用来改善响应的质量，形成迭代的反馈循环。这个过程有助于确保响应的相关性、连贯性和整体质量，因为它们不断被改进，直到满足预定义的质量标准。
- en: '[Performance](toc.xhtml#s264a)'
  id: totrans-183
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[性能](toc.xhtml#s264a)'
- en: The Quality-controlled Conversation pattern introduces a significant increase
    in computational complexity compared to the previous patterns, due to the addition
    of a second GPT model that acts as a critic. This GPT critic reviews each response
    generated by the first GPT model, adding a new level of computational load. Moreover,
    the iterative feedback loop mechanism, which improves the quality of responses
    based on the critic’s feedback, also adds additional processing time by the response
    generator.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 与以前的模式相比，质量受控对话模式引入了计算复杂性的显着增加，因为增加了作为评论者的第二个GPT模型。这个GPT评论者审查了第一个GPT模型生成的每个响应，增加了新的计算负载。此外，迭代的反馈循环机制，根据评论者的反馈改善响应的质量，还通过响应生成器增加了额外的处理时间。
- en: '[Use Cases](toc.xhtml#s265a)'
  id: totrans-185
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[使用案例](toc.xhtml#s265a)'
- en: This pattern is well-suited for scenarios that require high-quality, context-aware
    responses. The feedback loop mechanism ensures that the responses are iteratively
    improved until they meet the defined quality standards. This could be particularly
    useful in customer support systems, healthcare advisory assistants, financial
    advisory services, or any other field where the quality of the response is of
    paramount importance.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式非常适合需要高质量、上下文感知的响应的场景。反馈循环机制确保响应在满足定义的质量标准之前不断改进。这在客户支持系统、医疗咨询助手、金融咨询服务或任何其他响应质量至关重要的领域中特别有用。
- en: '[B Conversational Patterns with External Tool Integration](toc.xhtml#s266a)'
  id: totrans-187
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[与外部工具集成的对话模式](toc.xhtml#s266a)'
- en: In this section, we delve into two more advanced architecture patterns for GPT-driven
    chatbots. These patterns leverage the power of OpenAI’s GPT model, while integrating
    external tools and advanced methods of guiding the chatbot’s reasoning process.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们深入探讨了两种用于GPT驱动的聊天机器人的更高级的架构模式。这些模式利用了OpenAI的GPT模型的强大功能，同时集成了外部工具和引导聊天机器人推理过程的高级方法。
- en: '**Basic Tool-integrated Conversation (B1):** In continuation of the respective
    section in the introductory chapter (*Access to External Tools in GPT-Models*),
    the first pattern outlines an architecture where a conversational solution interacts
    with enterprise applications via API calls. These interactions are embedded into
    the entire conversation and dynamically triggered based on respective user input,
    extending the solution’s capabilities from text generation to performing enterprise
    tasks.'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**基本工具集成对话（B1）：**在介绍章节的相应部分的延续中（*GPT模型中的外部工具访问*），第一个模式概述了一个架构，其中一个对话解决方案通过API调用与企业应用程序进行交互。这些交互嵌入到整个对话中，并根据用户输入动态触发，从文本生成扩展到执行企业任务，扩展了解决方案的能力。'
- en: '**Chain-of-Thought-guided Conversation using Tools (B2):** The second pattern
    introduces a structure integrating Chain-of-Thought (CoT) Demonstrations[⁶](#ftn6a)
    with tool-specific API calls. This configuration ensures a fluid incorporation
    of tool actions within the solution’s reasoning process, allowing it to pause,
    perform actions using external tools, and continue the conversation based on the
    results. This advanced interaction model is particularly beneficial for more complex
    tasks, which require reasoning during the dialogue.'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用工具引导的思维链对话（B2）：** 第二种模式介绍了一种结构，将思维链（CoT）演示与特定工具的API调用集成在一起。这种配置确保了工具操作在解决方案推理过程中的流畅整合，使其能够暂停，使用外部工具执行操作，并根据结果继续对话。这种高级交互模型特别有益于需要在对话过程中进行推理的更复杂任务。'
- en: '**Advanced Tool-integrated Conversation (B3):** Going a step further than the
    Basic Tool-integrated Conversation (B1), the third pattern deploys a GPT model
    as both a contextual planner and a response generator. While B1 focuses on direct
    interactions with external tools triggered by user input, B3 introduces a layer
    of planning that determines a logical sequence of operations. The outcome is a
    richer and more adaptive conversational experience, moving beyond mere task execution
    to strategic task orchestration.'
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**高级工具集成对话（B3）：** 比基本工具集成对话（B1）更进一步，第三种模式将GPT模型部署为上下文规划器和响应生成器。虽然B1侧重于用户输入触发的与外部工具的直接交互，B3引入了一个规划层，确定了一系列逻辑操作的顺序。结果是更丰富和更适应性的对话体验，超越了简单的任务执行，转向战略任务编排。'
- en: The following sections will elaborate on these patterns, discussing their individual
    components, workflows, and potential use cases.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的章节将详细讨论这些模式，讨论它们的各个组成部分、工作流程和潜在用例。
- en: '[B1 Basic Tool-integrated Conversation](toc.xhtml#s267a)'
  id: totrans-193
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[B1基本工具集成对话](toc.xhtml#s267a)'
- en: This pattern outlines an architecture where a GPT-enabled chatbot engages in
    user interactions, which require the execution of specific functions provided
    by enterprise applications, databases and knowledge bases via APIs. This allows
    the chatbot to extend its capabilities beyond merely generating human-like text,
    enabling it to perform external tasks during the conversation (see *[Figure 4.5](#fig4_5)*).
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式概述了一种架构，其中一个启用了GPT的聊天机器人参与用户交互，这些交互需要通过API执行企业应用程序、数据库和知识库提供的特定功能。这使得聊天机器人能够扩展其能力，不仅仅是生成类似人类的文本，还能够在对话过程中执行外部任务（见*[图4.5](#fig4_5)*）。
- en: '![](images/Figure-4.5.jpg)'
  id: totrans-195
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-4.5.jpg)'
- en: '**[Figure 4.5](#fig4_5):** Basic tool-integrated conversation'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '**[图4.5](#fig4_5)：** 基本工具集成对话'
- en: '[User Experience Layer](toc.xhtml#s268a)'
  id: totrans-197
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用户体验层](toc.xhtml#s268a)'
- en: This layer is unchanged from the **Grounded Conversation** pattern (A2), providing
    a Standard Chatbot User Interface for user interactions.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层与**Grounded Conversation**模式（A2）保持不变，为用户交互提供标准的聊天机器人用户界面。
- en: '[Application Layer](toc.xhtml#s269a)'
  id: totrans-199
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[应用层](toc.xhtml#s269a)'
- en: 'Serving as the bridge between the User Experience and AI layers, this layer
    contains several components: Tool API Specifications, enterprise applications
    and databases, user prompt generator, response filter, response classification,
    extraction & execution of API-call, and verbalization prompt generator.'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 作为用户体验和AI层之间的桥梁，这一层包含几个组件：工具API规范、企业应用程序和数据库、用户提示生成器、响应过滤器、响应分类、API调用的提取和执行，以及语音提示生成器。
- en: '**Tool API Specifications**: This component holds the specifications for the
    APIs of the various tools that the conversational application can interact with.
    A specification typically has these four elements.'
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**工具API规范**：这个组件保存了对话应用程序可以与之交互的各种工具的API规范。规范通常包括这四个元素。'
- en: '**API Name**: The API name provides an abstract of the API. It helps a GPT
    model to link user instructions to this API and serves as an entry for the extraction
    and execution component. The name should be clear and precise in natural language,
    and avoid ambiguity with other API names like *check_order_status* to check the
    status of an order in a backend system.'
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**API名称**：API名称提供了API的摘要。它帮助GPT模型将用户指令与此API链接，并作为提取和执行组件的入口。名称应该用自然语言清晰而精确，避免与其他API名称产生歧义，比如*check_order_status*用于检查后端系统中订单的状态。'
- en: '**Parameter List**: The parameter list for an API includes the input parameters
    and return value, and each parameter has a parameter name, parameter description,
    data type, and default value. This information assists the used GPT model in correctly
    filling the parameters in the corresponding positions with the appropriate format.
    For the check_order_status example the parameters could be the following:'
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**参数列表**：API的参数列表包括输入参数和返回值，每个参数都有参数名称、参数描述、数据类型和默认值。这些信息帮助使用的GPT模型正确填充相应位置的参数，并使用适当的格式。对于*check_order_status*示例，参数可能如下：'
- en: 'Input Parameters:'
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 输入参数：
- en: '**order_id***:* integer, the unique identifier for an order placed in the system.
    This is used to look up the specific order and retrieve its current status.'
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**order_id***:* 整数，系统中订单的唯一标识符。这用于查找特定订单并检索其当前状态。'
- en: 'Return Value:'
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 返回值：
- en: '**order_status***:* string, denotes the current status of the order. Common
    values can include Pending, Processing, Shipped, Delivered, Canceled, and so on.'
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**order_status***:* 字符串，表示订单的当前状态。常见的值可以包括Pending、Processing、Shipped、Delivered、Canceled等。'
- en: '**expected_delivery_date***:* date (optional), the estimated delivery date
    for orders that are in Shipped status.'
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**expected_delivery_date***:* 日期（可选），已发货状态的订单的预计交付日期。'
- en: '**reason***:* string (optional), if the order is Canceled, this will provide
    a reason for the cancellation.'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**reason***:* 字符串（可选），如果订单被取消，这将提供取消的原因。'
- en: '**API Description**: Compared to the API name, the API description contains
    more information about what the API does, how it works, what are its inputs and
    outputs, and any potential errors or exceptions that may be raised. The respective
    example for *check_order_status* could be: *This function allows for the retrieval
    of the current status pertaining to a specific order, achieved through the use
    of the order’s unique ID. Upon querying, the system will respond with the status
    of the order and may also offer additional details such as the expected delivery
    date or the reason behind an order cancellation.*'
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**API描述**：与API名称相比，API描述包含了更多关于API的信息，包括它的功能、工作原理、输入和输出，以及可能引发的任何潜在错误或异常。*check_order_status*的相应示例可能是：*此函数允许检索与特定订单相关的当前状态，通过使用订单的唯一ID实现。查询时，系统将回复订单的状态，并可能提供额外的细节，如预计交付日期或订单取消的原因。*'
- en: '**Usage Example** (Optional): Providing a usage example for complex APIs can
    help demonstrate how the API can be used, while it may not be necessary for simple
    APIs. For the order status check an example could look like this: *Users can request
    the status of an order with the ID “12345678”. The response may inform them that
    the order is “Shipped” and offer a corresponding expected delivery date.*'
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用示例（可选）：为复杂的API提供使用示例可以帮助演示API的使用方式，而对于简单的API可能并不是必要的。对于订单状态检查，一个示例可能是这样的：*用户可以使用ID“12345678”请求订单的状态。响应可能会告知他们订单已经“发货”，并提供相应的预计交付日期。*
- en: '**Enterprise Applications and Databases**: These provide the external tools
    via API calls and can include any functional backend system like HR, Finance or
    Procurement, but also search engines or specialized ML-models.'
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**企业应用和数据库**：这些通过API调用提供外部工具，可以包括任何功能性后端系统，如人力资源、财务或采购，还可以包括搜索引擎或专门的ML模型。'
- en: '**User Prompt Generator**: This component translates the user’s input into
    a suitable prompt for a GPT model.'
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户提示生成器**：这个组件将用户的输入转换成适合GPT模型的提示。'
- en: '**Response Classification**: This component identifies and classifies GPT-generated
    responses into two types:'
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**响应分类**：这个组件将GPT生成的响应分为两种类型：'
- en: final response to the user request or
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对用户请求的最终响应或
- en: intermediate response containing a function call.
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 中间响应包含一个功能调用。
- en: A function call is identified if the response includes a `**function_call**`
    field.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 如果响应包含一个`**function_call**`字段，则会识别出一个功能调用。
- en: '**Extraction & Execution of API-Call**: When a function call response is identified,
    this component extracts the necessary details from the function call field, selects
    the appropriate tool to be used based on the tool API specifications and executes
    the API call with the chosen tool. A tool can be any functionality within an enterprise
    application, database or knowledge base.'
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**API调用的提取和执行**：当识别到一个功能调用响应时，这个组件从功能调用字段中提取必要的细节，根据工具API规范选择适当的工具，并使用所选的工具执行API调用。工具可以是企业应用、数据库或知识库中的任何功能。'
- en: '**Verbalization Prompt Generator**: This component leverages the existing context
    (user prompt and function call response) and adds a function prompt, which contains
    the results of the previous function call converted into text format. A GPT model
    then translates these results into a response to the user in natural language.'
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**语言化提示生成器**：这个组件利用现有的上下文（用户提示和功能调用响应）并添加一个功能提示，其中包含了前一个功能调用的结果转换成文本格式。然后，一个GPT模型将这些结果转换成自然语言的用户响应。'
- en: '**Response Filter**: This component checks the final GPT responses to the user
    for appropriateness, relevance, completeness, and coherence.'
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**响应过滤器**：这个组件检查用户的最终GPT响应，以确保其适当性、相关性、完整性和连贯性。'
- en: '[AI Layer](toc.xhtml#s270a)'
  id: totrans-221
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[AI层](toc.xhtml#s270a)'
- en: This layer hosts GPT models, which have been trained on conversational data
    that includes tool-specific API-function calls (so far only specific versions
    of GPT-3.5 Turbo and GPT-4). These models can generate either user responses or
    function call responses based on the prompts they receive.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层承载了GPT模型，这些模型已经在包括特定版本的GPT-3.5 Turbo和GPT-4在内的对话数据上进行了训练。这些模型可以根据它们收到的提示生成用户响应或功能调用响应。
- en: It also includes a knowledge base with the same capabilities as in previous
    patterns.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 它还包括一个具有与之前模式相同功能的知识库。
- en: '[Pattern Workflow](toc.xhtml#s271a)'
  id: totrans-224
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流程](toc.xhtml#s271a)'
- en: The User interacts with the chatbot interface, providing input or asking questions.
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户与聊天机器人界面进行交互，提供输入或提出问题。
- en: The user’s input is translated into an initial prompt for a GPT model, which
    also includes the tool API specifications.
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户的输入被转换成GPT模型的初始提示，其中还包括工具API规范。
- en: The response is then classified as either a user response or a function call
    response.
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后将响应分类为用户响应或功能调用响应。
- en: If it’s a user response, it’s forwarded to the response filter, where it is
    vetted for relevance, accuracy, and appropriateness and forwarded to the user
    (positive check results) or replaced by a default message (negative check results).
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果是用户响应，它将被转发到响应过滤器，那里会对其进行相关性、准确性和适当性的审查，并将其转发给用户（检查结果为正面）或替换为默认消息（检查结果为负面）。
- en: If it is a function call response in the format that defines an API call, the
    ‘Extraction & Execution of API-Call’ component executes the API call to the specified
    enterprise application, data base, or knowledge base.
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果它是一个以定义API调用格式的功能调用响应，‘API调用的提取和执行’组件将执行API调用到指定的企业应用、数据库或知识库。
- en: The results of the API call are used by the Verbalization Prompt Generator to
    generate a function prompt for a GPT model.
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: API调用的结果被用于语言化提示生成器生成一个GPT模型的功能提示。
- en: A GPT model generates a user response translating the API call results into
    natural language.
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一个GPT模型会生成一个用户响应，将API调用的结果转换成自然语言。
- en: This process repeats with each new user prompt until the conversation concludes.
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这个过程会随着每个新的用户提示而重复，直到对话结束。
- en: '[Pattern Workflow Example](toc.xhtml#s272a)'
  id: totrans-233
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流程示例](toc.xhtml#s272a)'
- en: 'Let us walk through an example using this pattern. Here, we will use the scenario
    of a user reaching out to an online bookstore’s chatbot to inquire about the status
    of their order:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一个示例来使用这个模式。在这里，我们将使用用户联系在线书店的聊天机器人询问其订单状态的场景：
- en: 'Your interaction is: “Can you tell me the status of my order with ID 98765432?”'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 您的互动是：“您能告诉我订单编号为98765432的订单状态吗？”
- en: 'Here’s how the chatbot pattern workflow assists, where the step numbers of
    the example correspond to the steps in the general workflow:'
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是聊天机器人模式工作流程的辅助，示例中的步骤编号对应于一般工作流程中的步骤：
- en: 'User Interaction: You ask the chatbot about the status of your order by providing
    the order ID.'
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户互动：您通过提供订单编号向聊天机器人询问订单状态。
- en: 'Initial Prompt Creation: The prompt generator translates your question into
    a suitable prompt for a GPT model: “User wants to know the status of order with
    ID 98765432 based on the tool API specification for check_order_status.”'
  id: totrans-238
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 初始提示创建：提示生成器将您的问题转换为适合GPT模型的提示：“用户想要根据工具API规范检查订单状态来了解订单编号为98765432的订单状态。”
- en: 'Response Classification: A GPT model interprets the prompt and identifies that
    this requires a function call to the bookstore’s system, specifically the check_order_status
    function.'
  id: totrans-239
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 响应分类：GPT模型解释提示并确定这需要调用书店系统的函数，特别是check_order_status函数。
- en: 'User or Function Call Decision: Since the response indicates a function call,
    the system skips user response generation and proceeds to the next step.'
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户或函数调用决策：由于响应表明需要进行函数调用，系统跳过用户响应生成并继续下一步。
- en: 'API Execution: Using the details provided, the system fetches information from
    the bookstore’s system. It uses the check_order_status API with the order ID 98765432
    to get the current status and other details of the order.'
  id: totrans-241
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: API执行：使用提供的细节，系统从书店系统获取信息。它使用订单编号98765432的check_order_status API来获取订单的当前状态和其他细节。
- en: 'Verbalization Prompt Creation: With the result from the bookstore’s system,
    a function prompt is generated for a GPT model, which contains the current status
    and other details of the order.'
  id: totrans-242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 口头提示创建：使用书店系统的结果，为GPT模型生成一个函数提示，其中包含订单的当前状态和其他细节。
- en: 'Generating User Response: A GPT model then crafts a coherent response based
    on this prompt, which might be: “Your order with ID 98765432 has been shipped!
    You can expect its delivery by August 28, 2023.”'
  id: totrans-243
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 生成用户响应：然后，GPT模型根据这个提示创建一个连贯的响应，可能是：“您的订单编号为98765432的订单已经发货！您可以预计在2023年8月28日之前收到。”
- en: 'Conversation Continuation or Conclusion: The chatbot delivers this message
    to you. The conversation continues if you have more questions or concludes if
    your inquiry has been satisfied.'
  id: totrans-244
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对话继续或结束：聊天机器人将这条消息传递给您。如果您有更多问题，对话将继续，如果您的询问得到满足，对话将结束。
- en: '[Enterprise Integration](toc.xhtml#s273a)'
  id: totrans-245
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 企业集成
- en: The Tool-integrated Conversation pattern features a significant level of enterprise
    integration. The architecture is closely tied with enterprise applications and
    databases that offer specific functionalities accessible through APIs. This design
    facilitates near-real-time integration, allowing the chatbot to execute tasks,
    fetch data, and generate responses based on these operations. Furthermore, this
    pattern can also potentially access knowledge bases if they are available via
    APIs, extending the range of data sources the chatbot can draw from during conversations.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 工具集成对话模式具有显著的企业集成水平。该架构与通过API可访问特定功能的企业应用程序和数据库紧密相关。这种设计促进了几乎实时的集成，使聊天机器人能够执行任务、获取数据并根据这些操作生成响应。此外，这种模式还可以通过API潜在地访问知识库，扩展了聊天机器人在对话过程中可以获取数据的范围。
- en: '[Output Quality](toc.xhtml#s274a)'
  id: totrans-247
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 输出质量
- en: This pattern significantly improves output quality by grounding and enriching
    user prompts dynamically with task output from backend systems. The decision,
    when to call a backend system is taken by the GPT model based on user input and
    not by a preprocessor like in the **Grounded pattern** (A2). The results of these
    tasks then provide detailed and accurate contexts for the GPT model, when it is
    actually used as a response generator.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式通过动态地使用后端系统的任务输出来显著提高了输出质量。决定何时调用后端系统是由GPT模型根据用户输入而不是像**Grounded pattern**（A2）中的预处理器来进行的。这些任务的结果为GPT模型提供了详细和准确的上下文，当它实际用作响应生成器时。
- en: '[Performance](toc.xhtml#s275a)'
  id: totrans-249
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 性能
- en: This pattern introduces more computational complexity and latency due to the
    extra steps involved in interacting with enterprise applications and databases
    through APIs, classifying the responses, and generating verbalization prompts.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式引入了更多的计算复杂性和延迟，因为涉及与企业应用程序和数据库通过API进行交互、对响应进行分类和生成口头提示的额外步骤。
- en: '[Use Cases](toc.xhtml#s276a)'
  id: totrans-251
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 用例
- en: This pattern excels in process-oriented scenarios that demand several interactions
    with enterprise applications and databases based on user input. It’s also ideal
    for customer service bots that need to interact with enterprise applications and
    databases to fetch or update user data.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式在需要根据用户输入与企业应用程序和数据库进行多次交互的流程导向场景中表现出色。它也非常适合需要与企业应用程序和数据库交互以获取或更新用户数据的客户服务机器人。
- en: '[B2 Chain-of-Thought-guided Conversation using Tools](toc.xhtml#s277a)'
  id: totrans-253
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[B2链式思维引导对话使用工具](toc.xhtml#s277a)'
- en: This pattern represents an architecture of a GPT-based chatbot that combines
    Chain-of-Thought (CoT) Demonstrations and interaction with specific functions
    provided by enterprise applications and databases via API calls [3]. CoT Demonstrations
    help in designing more effective prompts that showcase logical reasoning chains
    to a GPT model, enhancing its ability to maintain a consistent, logical sequence
    of responses or actions over a series of interactions (see *[Figure 4.6](#fig4_6)*).
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 该模式代表了基于GPT的聊天机器人的架构，结合了思维链（CoT）演示和通过API调用与企业应用程序和数据库的特定功能进行交互。CoT演示有助于设计更有效的提示，展示逻辑推理链给GPT模型，增强其在一系列交互中保持一致的逻辑响应或动作的能力（见*[图4.6](#fig4_6)*）。
- en: '![](images/Figure-4.6.jpg)'
  id: totrans-255
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-4.6.jpg)'
- en: '**[Figure 4.6](#fig4_6):** Chain-of-Thought-guided conversation using tools'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: '**[图4.6](#fig4_6):** 使用工具进行思维链引导的对话'
- en: '[User Experience Layer](toc.xhtml#s278a)'
  id: totrans-257
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用户体验层](toc.xhtml#s278a)'
- en: This layer is unchanged from the **Grounded Conversation** pattern (A2), providing
    a Standard Chatbot User Interface for user interactions.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层与**基础对话**模式（A2）中的一样，为用户交互提供了标准的聊天机器人用户界面。
- en: '[Application Layer](toc.xhtml#s279a)'
  id: totrans-259
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[应用层](toc.xhtml#s279a)'
- en: 'The application layer plays a critical role in mediating the chatbot’s reasoning
    process and its interactions with enterprise applications and databases. It comprises
    several components: CoT demonstrations, enterprise applications and databases,
    Tool API specifications, initial prompt generator, response filter, response classification,
    function name/input extraction & API call, and continuation prompt generator.'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 应用层在调解聊天机器人的推理过程和其与企业应用程序和数据库的交互中发挥了关键作用。它包括几个组件：CoT演示、企业应用程序和数据库、工具API规范、初始提示生成器、响应过滤器、响应分类、函数名称/输入提取和API调用以及继续提示生成器。
- en: '**Chain-of-Thought (CoT) Demonstrations**: These are demonstrations of desired
    thought processes for the chatbot, used to augment the user’s input.'
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**思维链（CoT）演示**：这些是用于增强用户输入的聊天机器人所需思维过程的演示。'
- en: '**Enterprise Applications and Databases**: These house the specific tool functionalities
    that the chatbot interacts with via API calls.'
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**企业应用程序和数据库**：这些应用程序和数据库包含了聊天机器人通过API调用与之交互的特定工具功能。'
- en: '**Tool API Specifications**: This component holds the specifications for various
    tools within the enterprise applications and databases that the chatbot can interact
    with.'
  id: totrans-263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**工具API规范**：该组件保存了企业应用程序和数据库中各种工具的规范，聊天机器人可以与之交互。'
- en: '**Initial Prompt Generator**: This component translates the user’s input, augmented
    with tool API specifications and CoT demonstrations, into an initial prompt for
    a GPT model, with instructions to stop when a tool trigger is generated.'
  id: totrans-264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**初始提示生成器**：该组件将用户的输入与企业应用程序和数据库中的相关工具API规范以及匹配的CoT演示相结合，转换为GPT模型的初始提示，指示在生成工具触发时停止。'
- en: '**Response Filter**: This component checks the responses generated by a GPT
    model against defined criteria.'
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**响应过滤器**：该组件检查GPT模型生成的响应是否符合定义的标准。'
- en: '**Response Classification**: This component classifies GPT-generated responses
    into user responses or tool calls.'
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**响应分类**：该组件将GPT生成的响应分类为用户响应或工具调用。'
- en: '**Tool Name/Input Extraction and API Call**: When a tool trigger is identified
    in a response, this component extracts the tool name and input, executes the tool
    call, and appends the results to the reasoning process.'
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**工具名称/输入提取和API调用**：当在响应中识别出工具触发时，该组件提取工具名称和输入，执行工具调用，并将结果附加到推理过程中。'
- en: '**Continuation Prompt Generator**: This component generates continuation prompts
    for a GPT model by combining the original prompt, intermediate responses, and
    tool results.'
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**继续提示生成器**：该组件通过结合原始提示、中间响应和工具结果生成GPT模型的继续提示。'
- en: '[AI Layer](toc.xhtml#s280a)'
  id: totrans-269
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[AI层](toc.xhtml#s280a)'
- en: This layer hosts the knowledge base and a GPT model which is responsible for
    generating intermediate and final responses to user prompts.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 该层承载了知识库和一个负责生成用户提示的中间和最终响应的GPT模型。
- en: '[Pattern Workflow](toc.xhtml#s281a)'
  id: totrans-271
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流程](toc.xhtml#s281a)'
- en: The User interacts with the Chatbot Interface, providing input or making requests.
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户与聊天机器人界面进行交互，提供输入或发出请求。
- en: The user’s input is augmented with the relevant tool API Specifications from
    the enterprise applications and databases and matching CoT Demonstrations.
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户的输入被增强，包括来自企业应用程序和数据库的相关工具API规范以及匹配的CoT演示。
- en: The augmented input is translated into an initial prompt for a GPT model, instructing
    it to stop when a tool trigger is generated.
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 增强输入被转换为GPT模型的初始提示，指示在生成工具触发时停止。
- en: A GPT model generates an intermediate response, which is then classified as
    a user response or a function call.
  id: totrans-275
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GPT模型生成中间响应，然后被分类为用户响应或函数调用。
- en: If the response contains a tool trigger, the tool name and input are extracted,
    and the respective function call is executed on the specified application, database
    or knowledge base.
  id: totrans-276
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果响应包含工具触发，将提取工具名称和输入，并在指定的应用程序、数据库或知识库上执行相应的函数调用。
- en: The results of the function call are appended to the reasoning process.
  id: totrans-277
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 函数调用的结果被附加到推理过程中。
- en: GPT is called again with a continuation prompt (original prompt + intermediate
    response + tool result) to continue the conversation.
  id: totrans-278
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次调用GPT，使用继续提示（原始提示+中间响应+工具结果）来继续对话。
- en: Steps 4–7 repeat until all tool-using steps in the reasoning process have been
    completed.
  id: totrans-279
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 步骤4-7重复，直到推理过程中的所有使用工具的步骤都已完成。
- en: The final response is generated, checked by the response filter, and passed
    on to the user.
  id: totrans-280
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 生成最终响应，由响应过滤器检查，并传递给用户。
- en: '[Enterprise Integration](toc.xhtml#s282a)'
  id: totrans-281
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[企业集成](toc.xhtml#s282a)'
- en: The enterprise integration for this pattern is equivalent to that in the **Tool-integrated
    Conversation** pattern (B1).
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 该模式的企业集成等同于**集成工具对话**模式（B1）中的企业集成。
- en: '[Output Quality](toc.xhtml#s283a)'
  id: totrans-283
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[输出质量](toc.xhtml#s283a)'
- en: The output quality of this pattern is also comparable to the previous pattern.
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式的输出质量也与之前的模式相当。
- en: '[Performance](toc.xhtml#s284a)'
  id: totrans-285
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[性能](toc.xhtml#s284a)'
- en: The performance of this pattern is worse than in the Tool-integrated Conversation
    pattern due to repeated continuation prompting each time a function call needs
    to be performed.
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 由于每次需要执行函数调用时都会重复进行继续提示，因此该模式的性能不如工具集成对话模式。
- en: '[Use Cases](toc.xhtml#s285a)'
  id: totrans-287
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用例](toc.xhtml#s285a)'
- en: This pattern is particularly effective for complex use cases that require a
    step-by-step reasoning process and integration with external tools. It can be
    used to create sophisticated chatbots that not only answer queries but also perform
    multi-step tasks, solve complex problems, or guide users through a process while
    interacting with external tools or services. Examples include IT support chatbots,
    virtual assistants for complex software applications, or training systems.
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式特别适用于需要逐步推理过程和与外部工具集成的复杂用例。它可以用来创建复杂的聊天机器人，不仅可以回答查询，还可以执行多步任务，解决复杂问题，或者在与外部工具或服务交互时引导用户完成流程。示例包括IT支持聊天机器人，复杂软件应用程序的虚拟助手，或培训系统。
- en: '[B3 Advanced Tool-integrated Conversation](toc.xhtml#s286a)'
  id: totrans-289
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[B3高级工具集成对话](toc.xhtml#s286a)'
- en: 'This evolved architecture pattern harnesses a GPT model in two capacities:
    as a planner and as a response generator. As a planner it translates user inputs
    into task sequences, which are executed in an orchestrated manner, and as a response
    generator it uses the output of each task to generate contextualized user responses
    (refer to *[Figure 4.7](#fig4_7)*).'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 这种进化的架构模式利用了GPT模型的两种能力：作为规划者和响应生成器。作为规划者，它将用户输入转换为任务序列，这些任务以协调的方式执行，作为响应生成器，它使用每个任务的输出生成具有上下文的用户响应（参见*[图4.7](#fig4_7)*）。
- en: '![](images/Figure-4.7.jpg)'
  id: totrans-291
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-4.7.jpg)'
- en: '**[Figure 4.7](#fig4_7):** Advanced tool-integrated conversation'
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: '**[图4.7](#fig4_7)：** 高级工具集成对话'
- en: '[User Experience Layer](toc.xhtml#s287a)'
  id: totrans-293
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用户体验层](toc.xhtml#s287a)'
- en: This remains unchanged compared with the B1 pattern, offering a consistent user-chatbot
    interaction interface.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 与B1模式相比，这保持不变，提供一致的用户-聊天机器人交互界面。
- en: '[Application Layer](toc.xhtml#s288a)'
  id: totrans-295
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[应用层](toc.xhtml#s288a)'
- en: 'This layer uses the following components from the B1 pattern:'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 该层使用B1模式中的以下组件：
- en: Tool API Specifications, which now could also include composition instructions
    to a GPT model on how to combine multiple APIs to accomplish complex user requests.
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 工具API规范，现在还可以包括有关如何组合多个API以完成复杂用户请求的组合说明。
- en: Extraction & Execution of API-Call
  id: totrans-298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: API调用的提取和执行
- en: Enterprise Applications and Databases
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 企业应用程序和数据库
- en: Response Filter
  id: totrans-300
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 响应过滤器
- en: 'In addition, it introduces several planning-specific components:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，它引入了几个与规划相关的组件：
- en: '**Planning Prompt Generator**: This component converts the user’s input into
    a prompt that asks a GPT model to generate a plan or sequence of tasks.'
  id: totrans-302
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**规划提示生成器**：该组件将用户的输入转换为提示，要求GPT模型生成计划或任务序列。'
- en: '**Plan Execution**: Once a plan is generated by a GPT model, this component
    systematically extracts and acts on each task in the sequence.'
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**计划执行**：一旦GPT模型生成了计划，该组件系统地提取并执行序列中的每个任务。'
- en: '**User Response Prompt Generator**: It replaces the Verbalization Prompt Generator.
    This component compiles the results into a new prompt for a GPT model to produce
    a comprehensive and human-understandable response, after all tasks in the plan
    are executed.'
  id: totrans-304
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户响应提示生成器**：它取代了语言提示生成器。该组件将结果编译成新的提示，供GPT模型生成全面且易于理解的响应，所有计划中的任务执行完毕后。'
- en: '[AI Layer](toc.xhtml#s289a)'
  id: totrans-305
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[AI层](toc.xhtml#s289a)'
- en: 'This layer includes a knowledge base as before and a GPT model in two different
    roles:'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 该层包括与以前一样的知识库和GPT模型扮演两种不同角色：
- en: '**Planner**: Given a planning prompt, a GPT model outlines a logical sequence
    of tasks with their respective API-Calls that need to be executed to satisfy the
    user’s request.'
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**规划者**：给定一个规划提示，GPT模型会概述一系列逻辑任务及其相应的API调用，以满足用户的请求。'
- en: '**User Response Generator**: After all tasks in the plan are executed and results
    are compiled, a GPT model takes the compiled results and crafts them into a comprehensive
    and human-understandable response for the user.'
  id: totrans-308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**用户响应生成器**：在计划中的所有任务执行完毕并编译结果后，GPT模型将编译结果并将其制作成用户易于理解的全面响应。'
- en: '[Pattern Workflow](toc.xhtml#s290a)'
  id: totrans-309
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流程](toc.xhtml#s290a)'
- en: The User interacts with the chatbot interface.
  id: totrans-310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户与聊天机器人界面进行交互。
- en: The Planning Prompt Generator translates the user’s request into a planning
    prompt for a GPT model, which also includes the tool API specifications.
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 规划提示生成器将用户的请求转换为GPT模型的规划提示，其中还包括工具API规范。
- en: GPT, in its Planner role, interprets the planning prompt and generates a sequence
    of tasks with API calls for each task. The first task has a fully specified API-Call,
    while subsequent tasks have placeholders in their respective API-Calls
  id: totrans-312
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GPT在其规划者角色中解释规划提示，并为每个任务生成一系列具有API调用的任务序列。第一个任务具有完全指定的API调用，而后续任务在各自的API调用中有占位符。
- en: The Plan Execution component extracts the API call of the first task and sends
    it to the API-Call Execution component, which processes it and returns the API-Call
    Results.
  id: totrans-313
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计划执行组件提取第一个任务的API调用并将其发送到API调用执行组件，该组件处理并返回API调用结果。
- en: The Plan Execution component updates the results for the first task in the task
    sequence and resubmits it to GPT as Planner.
  id: totrans-314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计划执行组件更新任务序列中第一个任务的结果，并将其重新提交给GPT作为规划者。
- en: A GPT model keeps the already executed tasks in the plan and regenerates the
    task sequence immediately following the last executed task.
  id: totrans-315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GPT模型保留计划中已执行的任务，并立即重新生成紧随上一个已执行任务的任务序列。
- en: The Plan Execution component moves to the next task in the sequence, sending
    it to the API-Execution module, from where it gets the results back again.
  id: totrans-316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计划执行组件移动到序列中的下一个任务，并将其发送到API执行模块，从中再次获取结果。
- en: Afterwards, it updates the plan and resubmits it to a GPT model. This loop continues
    until all tasks in the plan are executed.
  id: totrans-317
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 之后，它更新计划并将其重新提交给GPT模型。这个循环会一直持续，直到计划中的所有任务都被执行。
- en: Post completion of all tasks, the Plan Execution components forward all the
    intermediate and final results to the User Response Prompt Generator.
  id: totrans-318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在所有任务完成后，计划执行组件将所有中间和最终结果转发给用户响应提示生成器。
- en: The User Response Prompt Generator frames a prompt for a GPT model.
  id: totrans-319
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户响应提示生成器为GPT模型制定了一个提示。
- en: GPT, in its Response Generator role, produces a detailed and user-friendly response.
  id: totrans-320
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GPT在其响应生成器角色下产生了详细且用户友好的响应。
- en: The Response Filter vets this final response, ensuring its quality and relevance.
  id: totrans-321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 响应过滤器审核这个最终响应，确保其质量和相关性。
- en: The user receives the filtered response and continues the interaction if needed.
  id: totrans-322
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户收到经过过滤的响应，并在需要时继续交互。
- en: '[Pattern Workflow Example](toc.xhtml#s291a)'
  id: totrans-323
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流示例]'
- en: Let’s imagine a user wants to host a birthday party for a friend in a local
    park and needs some assistance.
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们想象一下，一个用户想要在当地公园为朋友举办生日派对，并需要一些帮助。
- en: 'Your interaction is: “I want to organize a birthday party for my friend, Mark,
    in Central Park next Saturday. Can you help?”'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 您的互动是：“我想在下周六在中央公园为我的朋友马克举办生日派对。你能帮忙吗？”
- en: 'Here is how this pattern would come into play. The step numbers in the example
    are different due to the iteration over the planned task sequence:'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是这种模式如何发挥作用的方式。由于对计划任务序列的迭代，示例中的步骤编号不同：
- en: 'User Interaction: You express your intent to the chatbot about planning a birthday
    party for your friend in Central Park.'
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户互动：您向聊天机器人表达了在中央公园为朋友筹划生日派对的意图。
- en: 'Planning Prompt Creation: The chatbot, through the Planning Prompt Generator,
    reformulates your request to: “Generate a plan for organizing a birthday party
    in Central Park next Saturday.”'
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 规划提示创建：聊天机器人通过规划提示生成器重新制定您的请求：“为下周六在中央公园举办生日派对生成一个计划。”
- en: 'Plan Generation by GPT: A GPT model, donning its Planner role, interprets the
    planning prompt and lays out a multi-step task sequence:'
  id: totrans-329
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GPT的计划生成：GPT模型在其规划者角色下解释规划提示，并制定了一个多步任务序列：
- en: 'Task 1: Verify the availability of Central Park for events next Saturday.'
  id: totrans-330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任务1：验证下周六中央公园的活动场地是否可用。
- en: 'Task 2: Reserve a suitable spot in Central Park.'
  id: totrans-331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任务2：在中央公园预订一个合适的地点。
- en: 'Task 3: List nearby bakeries for a birthday cake.'
  id: totrans-332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任务3：列出附近的面包店供制作生日蛋糕。
- en: 'Task 4: Recommend local entertainment or performers for hire.'
  id: totrans-333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任务4：推荐本地娱乐或表演者供雇佣。
- en: 'Task 5: Provide a weather forecast for next Saturday.'
  id: totrans-334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任务5：提供下周六的天气预报。
- en: 'Plan Execution - Task 1: The system first checks Central Park’s availability
    for events on the specified date using an events API.'
  id: totrans-335
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计划执行 - 任务1：系统首先使用活动API检查指定日期中央公园的活动场地是否可用。
- en: 'Updating & Resubmission: Assuming the park is available, the plan moves forward
    and is resubmitted to GPT for the next sequence.'
  id: totrans-336
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更新和重新提交：假设公园可用，计划将继续并被重新提交给GPT进行下一个序列。
- en: 'Plan Execution - Task 2: The system then reserves a spot in Central Park suitable
    for a birthday gathering, employing the reservations API.'
  id: totrans-337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计划执行 - 任务2：系统然后使用预订API预订一个适合生日聚会的中央公园地点。
- en: 'Plan Execution - Task 3: The chatbot accesses a local directory API, listing
    a few top-rated bakeries nearby for a potential cake order.'
  id: totrans-338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计划执行 - 任务3：聊天机器人访问本地目录API，列出附近几家评价较高的面包店，以便可能的蛋糕订购。
- en: 'Plan Execution - Task 4: The system, tapping into another local services API,
    offers a few entertainment options like magicians, musicians, or party entertainers
    available for hire.'
  id: totrans-339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计划执行 - 任务4：系统利用另一个本地服务API，提供一些可供雇佣的魔术师、音乐家或派对表演者等娱乐选项。
- en: 'Plan Execution - Task 5: The system provides a weather forecast for next Saturday
    using a weather API to ensure preparations account for potential rain or shine.'
  id: totrans-340
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计划执行 - 任务5：系统使用天气API提供下周六的天气预报，以确保准备工作考虑到可能的雨天或晴天。
- en: 'Compile Results: All the intermediate outcomes, that is., park availability,
    reservation confirmation, bakery list, entertainment suggestions, and weather
    forecast, are consolidated.'
  id: totrans-341
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 编制结果：所有中间结果，即公园的可用性、预订确认、面包店列表、娱乐建议和天气预报，都被整合起来。
- en: 'User Response Prompt Creation: A prompt is generated, collating all the data:
    “Convert the findings from Central Park’s availability, reservation, bakeries
    list, entertainment options, and the weather forecast into a coherent user response.”'
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户响应提示创建：生成一个提示，整合所有数据：“将中央公园的可用性、预订、面包店列表、娱乐选项和天气预报的发现转化为连贯的用户响应。”
- en: 'Crafting User Response: GPT, in its User Response Generator capacity, constructs
    the message: “Central Park is available next Saturday! I’ve reserved a spot for
    Mark’s birthday. Here are top 3 bakeries nearby: [Bakery Names]. For entertainment,
    consider hiring [Entertainer Names]. Also, the weather forecast suggests it’ll
    be sunny. Happy planning!”'
  id: totrans-343
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 制作用户响应：GPT在其用户响应生成器的能力下构建消息：“下周六中央公园有空！我已经为马克的生日预订了一个地点。附近有前3家面包店：[面包店名称]。作为娱乐，考虑雇佣[表演者名称]。此外，天气预报显示将是晴天。愉快的筹划！”
- en: 'Response Filtering: This detailed response is checked for coherence and clarity.'
  id: totrans-344
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 响应过滤：检查这个详细的响应是否连贯清晰。
- en: 'Final User Interaction: You’re presented with the thorough plan and resources,
    allowing you to proceed with the preparations or continue the interaction for
    more specific details.'
  id: totrans-345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最终用户互动：您将得到详细的计划和资源，可以继续进行准备工作，或者继续交互以获取更具体的细节。
- en: '[Enterprise Integration](toc.xhtml#s292a)'
  id: totrans-346
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 企业集成
- en: The Advanced Tool-integrated Conversation pattern showcases an even more profound
    level of enterprise integration. By leveraging GPT’s planning capabilities, it
    can dynamically and interactively construct sequences of tasks that harness the
    functionalities of various enterprise applications and databases. This design
    allows for adaptive interactions, ensuring that the sequence of tasks and responses
    is continually refined based on evolving user input.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 高级工具集成对话模式展示了更深层次的企业集成。通过利用GPT的规划能力，它可以动态交互地构建利用各种企业应用程序和数据库功能的任务序列。这种设计允许自适应交互，确保任务序列和响应根据不断变化的用户输入不断优化。
- en: '[Output Quality](toc.xhtml#s293a)'
  id: totrans-348
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[输出质量](toc.xhtml#s293a)'
- en: The quality of the output in this pattern is notably superior due to the addition
    of dynamic planning and iterative execution of tasks. Instead of solely relying
    on initial context, a GPT model can adapt its approach based on the outcomes of
    previous tasks and the respective user responses. This iterative and adaptive
    process ensures that the conversation remains more relevant and is consistently
    refined to best address the user’s needs.
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式的输出质量明显更高，因为动态规划和迭代执行任务的添加。GPT模型不仅仅依赖于初始上下文，还可以根据先前任务的结果和用户的响应调整其方法。这种迭代和自适应过程确保对话保持更相关，并且不断优化以最好地满足用户的需求。
- en: '[Performance](toc.xhtml#s294a)'
  id: totrans-350
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[性能](toc.xhtml#s294a)'
- en: While this pattern offers significant benefits in terms of output quality and
    enterprise integration, it also introduces further computational overhead. The
    iterative planning, execution, and replanning processes add latency to the overall
    response time.
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这种模式在输出质量和企业集成方面带来了显著的好处，但也引入了更多的计算开销。迭代规划、执行和重新规划过程会增加整体响应时间的延迟。
- en: '[Use Cases](toc.xhtml#s295a)'
  id: totrans-352
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用例](toc.xhtml#s295a)'
- en: 'Given the enhanced capabilities of the B3 pattern, its use cases extend to
    more complex and dynamic scenarios:'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: 鉴于B3模式的增强功能，其用例扩展到更复杂和动态的场景：
- en: '**Process Automation Bots**: Ideal for guiding users through complex, multi-step
    processes like onboarding, troubleshooting, or service provisioning. As each step
    is completed, the bot can adapt its guidance based on the outcomes.'
  id: totrans-354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**流程自动化机器人：** 适用于引导用户完成复杂的、多步骤的流程，如入职、故障排除或服务配置。随着每个步骤的完成，机器人可以根据结果调整其引导。'
- en: '**Dynamic Querying Systems**: For situations where a user’s request requires
    fetching and processing data from multiple sources in a specific sequence, for
    example, generating a detailed report that spans multiple enterprise applications.'
  id: totrans-355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**动态查询系统：** 适用于用户请求需要按特定顺序从多个来源获取和处理数据的情况，例如生成跨多个企业应用程序的详细报告。'
- en: '**Advanced Customer Service Bots**: Beyond simple data retrieval, these bots
    can execute sequences of tasks like updating multiple records, initiating processes,
    and then reporting back the results, all in a single user interaction.'
  id: totrans-356
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**高级客户服务机器人：** 除了简单的数据检索，这些机器人可以执行更新多个记录、启动流程，然后在单个用户交互中报告结果的任务序列。'
- en: '**Interactive Tutorials and Guided Learning**: Bots that can adapt the learning
    path based on user responses, test results, or other criteria, ensuring a tailored
    learning experience.'
  id: totrans-357
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**交互式教程和引导学习：** 机器人可以根据用户的响应、测试结果或其他标准调整学习路径，确保定制化的学习体验。'
- en: '**Integrated Business Intelligence Tools**: For business users who need a sequence
    of data retrieval, analysis, and visualization tasks from different enterprise
    tools to generate insights.'
  id: totrans-358
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**集成业务智能工具：** 适用于需要从不同企业工具中获取数据、进行分析和可视化任务序列以生成见解的业务用户。'
- en: '[C Conversational Patterns with Fine-tuned Models](toc.xhtml#s296a)'
  id: totrans-359
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[C 使用经过微调的模型的对话模式](toc.xhtml#s296a)'
- en: This section introduces two advanced patterns that harness the potential of
    GPT in synergy with fine-tuned models for end-to-end conversational solutions.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 本节介绍了两种利用GPT与经过微调模型潜力的高级模式，用于端到端的对话解决方案。
- en: '**Conversation using Fine-tuned Model (C1):** This pattern utilizes a GPT model
    to generate training data, which is used to fine-tune a commercial or open-source
    language model. The conversational solution then employs this fine-tuned model
    to craft responses for the user, supplemented with enterprise knowledge and data.'
  id: totrans-361
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用经过微调的模型的对话 (C1):** 这种模式利用GPT模型生成训练数据，用于微调商业或开源语言模型。对话解决方案随后利用这个经过微调的模型为用户制定响应，辅以企业知识和数据。'
- en: '**Conversation using Two Models (C2):** This pattern leverages both a fine-tuned
    model and a pre-trained GPT model in its operation. The output from the fine-tuned
    model is utilized to enhance the user input with context-specific data. This provides
    a GPT model with higher input quality, resulting in more precise and contextually
    relevant responses.'
  id: totrans-362
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用两个模型的对话 (C2):** 这种模式同时利用经过微调的模型和预训练的GPT模型进行操作。经过微调的模型的输出用于增强具有特定上下文数据的用户输入。这为GPT模型提供了更高质量的输入，从而产生更精确和与上下文相关的响应。'
- en: The detailed descriptions of these architecture patterns, including their structure,
    workflow, and potential use cases, follow.
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 包括它们的结构、工作流程和潜在用例在内的这些架构模式的详细描述将在下文中介绍。
- en: '[C1 Conversation with fine-tuned model](toc.xhtml#s297a)'
  id: totrans-364
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[C1 使用经过微调的模型的对话](toc.xhtml#s297a)'
- en: This pattern outlines an architecture for a GPT-driven conversational solution
    that leverages a database along with GPT to create training data. This data is
    used to fine-tune a pre-existing language model which subsequently handles user
    interactions (refer to *[Figure 4.8](#fig4_8)*).
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式概述了一个以GPT为驱动的对话解决方案的架构，它利用数据库和GPT创建训练数据。这些数据用于微调现有的语言模型，随后处理用户交互（参见*[图4.8](#fig4_8)*）。
- en: '![](images/Figure-4.8.jpg)'
  id: totrans-366
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-4.8.jpg)'
- en: '**[Figure 4.8](#fig4_8):** Conversation using fine-tuned model'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: '**[图4.8](#fig4_8):** 使用经过微调的模型的对话'
- en: '[User Experience Layer](toc.xhtml#s298a)'
  id: totrans-368
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用户体验层](toc.xhtml#s298a)'
- en: This layer is equivalent to the **Grounded Conversation** pattern (A2).
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层相当于**基础对话**模式（A2）。
- en: '[Application Layer](toc.xhtml#s299a)'
  id: totrans-370
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[应用层](toc.xhtml#s299a)'
- en: This layer also includes the same components as in the A2 pattern.
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层还包括A2模式中的相同组件。
- en: '[AI Layer](toc.xhtml#s300a)'
  id: totrans-372
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[AI层](toc.xhtml#s300a)'
- en: 'The AI layer encompasses several key components:'
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: AI层包括几个关键组件：
- en: 'Knowledge Base for Augmentation: It is used during run-time to supplement the
    AI’s knowledge.'
  id: totrans-374
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 增强知识库：在运行时用于补充AI的知识。
- en: 'Pre-trained Language Model: This is a general-purpose model trained on vast
    amounts of data to understand language but not specialized for any particular
    task.'
  id: totrans-375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 预训练语言模型：这是一个通用模型，经过大量数据的训练，可以理解语言，但不专门针对任何特定任务。
- en: 'Fine-tuned Language Model: Using the foundation set by the pre-trained model,
    this version is further trained or fine-tuned on specific datasets. This can be
    for targeted tasks such as following instructions or facilitating conversations,
    enhancing its accuracy and relevance for these tasks.'
  id: totrans-376
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 精细调整的语言模型：利用预训练模型奠定的基础，这个版本在特定数据集上进一步训练或精细调整。这可以用于针对性的任务，比如遵循指示或促进对话，提高其在这些任务中的准确性和相关性。
- en: 'GPT-model as a Training-data Generator: It utilizes a GPT model’s capabilities
    to generate training data, simulating various scenarios or dialogues. Users should
    note a crucial licensing stipulation: Outputs derived from OpenAI’s services must
    not be used to create models in competition with OpenAI. It’s also worth highlighting
    that licensing terms are dynamic and may change periodically. For the most current
    information, always refer to OpenAI’s official documentation or terms of service.'
  id: totrans-377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GPT模型作为训练数据生成器：它利用GPT模型的能力生成训练数据，模拟各种场景或对话。用户应注意一个关键的许可规定：从OpenAI的服务中得到的输出不得用于与OpenAI竞争的模型的创建。值得注意的是，许可条款是动态的，可能会定期更改。有关最新信息，请始终参考OpenAI的官方文档或服务条款。
- en: 'Database for Training-data Generation: A curated source from which a GPT model
    extracts and processes information to generate training data.'
  id: totrans-378
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于训练数据生成的数据库：一个精心策划的来源，GPT模型从中提取和处理信息以生成训练数据。
- en: 'When considering fine-tuning solutions, enterprises today have the option of
    utilizing commercial models provided by OpenAI or a selection of noteworthy open-source
    models:'
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: 在考虑精细调整解决方案时，企业今天可以选择利用OpenAI提供的商业模型或一些值得注意的开源模型：
- en: 'Commercial Models from OpenAI:'
  id: totrans-380
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OpenAI的商业模型：
- en: 'GPT-3.5 Turbo: OpenAI offers fine-tuning capabilities for GPT-3.5 Turbo. Early
    evaluations suggest that a fine-tuned version of GPT-3.5 Turbo can achieve performance
    levels comparable to base GPT-4 models in specific narrow tasks. Emphasizing safety,
    training data for fine-tuning is subjected to OpenAI’s Moderation API, which is
    based on GPT-4.'
  id: totrans-381
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GPT-3.5 Turbo：OpenAI提供了GPT-3.5 Turbo的精细调整能力。早期评估表明，GPT-3.5 Turbo的精细调整版本在特定狭窄任务中可以达到与基础GPT-4模型相媲美的性能水平。强调安全性，精细调整的训练数据受到OpenAI的Moderation
    API的约束，该API基于GPT-4。
- en: 'GPT Base, babbage-002 and davinci-002: These models are the recent additions
    from OpenAI with 16K context window size, available for both standard and fine-tuned
    applications.'
  id: totrans-382
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GPT Base、babbage-002和davinci-002：这些模型是OpenAI的最新添加，具有16K的上下文窗口大小，可用于标准和精细调整应用。
- en: 'Open-Source Models (pre-trained on 1 trillion tokens):'
  id: totrans-383
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开源模型（预训练1万亿标记）：
- en: 'MosaicML’s MPT-30B: An open-source model boasting 30 billion parameters. It
    surpasses the capabilities of MPT-7B and GPT-3, featuring a context window size
    of 8000 tokens. The model is available in two distinct versions: MPT-30B-Instruct,
    tailored for instruction fine-tuning, and MPT-30B-Chat, crafted for chatbot development.
    MosaicML’s platform also provides options for customization and deployment.'
  id: totrans-384
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: MosaicML的MPT-30B：一个拥有300亿参数的开源模型。它超越了MPT-7B和GPT-3的能力，具有8000个标记的上下文窗口大小。该模型有两个不同的版本：MPT-30B-Instruct，专门用于指令精细调整，以及MPT-30B-Chat，专为聊天机器人开发而设计。MosaicML的平台还提供了定制和部署选项。
- en: 'Falcon LLM by the Technology Innovation Institute: Based in Abu Dhabi, this
    open-source model is equipped with 40 billion parameters and offers a context
    length of 2000 tokens. Additionally, the Falcon-40B-Instruct variant is available,
    designed explicitly for instruction-based fine-tuning.'
  id: totrans-385
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 科技创新研究所的Falcon LLM：这个总部位于阿布扎比的开源模型配备了400亿参数，并提供了2000个标记的上下文长度。此外，还提供了Falcon-40B-Instruct变体，专门设计用于基于指令的精细调整。
- en: 'OpenLLaMA: Serving as the open-source counterpart of Meta AI’s LLaMA, it offers
    models in 3B, 7B, and 13B parameter configurations, each accompanied by a 4000-token
    context window. Contrasting Meta’s research-exclusive LLaMA, OpenLLaMA is engineered
    for commercial application and supports fine-tuning.'
  id: totrans-386
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OpenLLaMA：作为Meta AI的LLaMA的开源对应物，它提供了3B、7B和13B参数配置的模型，每个模型都配有4000个标记的上下文窗口。与Meta的研究专用LLaMA相比，OpenLLaMA是为商业应用而设计的，并支持精细调整。
- en: 'Open-Source Models (pre-trained on 2 trillion tokens):'
  id: totrans-387
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开源模型（预训练2万亿标记）：
- en: 'Llama 2 by Meta: A more recent release, Llama 2 is available in configurations
    of 7B, 13B, and 70B parameters. It has a context length of 4000 tokens—twice the
    capacity of its predecessor, Llama 1\. The Llama-2-chat variants have undergone
    further refinement using 100K public instruction datasets and have been influenced
    by over a million human preferences to bolster interaction safety and utility.
    Commercial utilization and fine-tuning are permitted under Llama 2’s licensing.'
  id: totrans-388
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Meta的Llama 2：这是一个更近期的发布，Llama 2有7B、13B和70B参数的配置。它有4000个标记的上下文长度，是其前身Llama 1的两倍容量。Llama-2-chat变体经过进一步的改进，使用了10万个公共指令数据集，并受到了超过一百万人类偏好的影响，以增强交互的安全性和实用性。Llama
    2的许可允许商业利用和精细调整。
- en: 'After selecting the pre-trained model, it needs to be fine-tuned for specific
    enterprise tasks. Our approach covers data curation, preprocessing, training data
    generation using GPT, model training, and evaluation, all illustrated with practical
    examples. This method ensures the models are effectively tailored to the task
    at hand:'
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择预训练模型之后，需要对其进行微调以适应特定的企业任务。我们的方法涵盖了数据策划、预处理、使用GPT生成训练数据、模型训练和评估，所有这些都以实际例子进行说明。这种方法确保模型能够有效地适应手头的任务：
- en: 'Data Curation:'
  id: totrans-390
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据策划：
- en: 'Definition: The primary step involves gathering and curating a domain-specific
    database. The selected data should be representative of the specific task and
    should provide a solid base for the subsequent steps.'
  id: totrans-391
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义：主要步骤涉及收集和策划特定领域的数据库。所选数据应代表特定任务，并为后续步骤提供坚实基础。
- en: 'Examples:'
  id: totrans-392
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例子：
- en: Collection of customer support tickets for creating an IT-support chatbot.
  id: totrans-393
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 收集客户支持票据以创建IT支持聊天机器人。
- en: Accumulation of process logs to assist in forecasting process outcomes.
  id: totrans-394
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 积累过程日志以帮助预测过程结果。
- en: Aggregation of email histories for developing a communication classifier.
  id: totrans-395
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 汇总电子邮件历史以开发通信分类器。
- en: Gathering of sales transaction data to develop a product recommendation system.
  id: totrans-396
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 收集销售交易数据以开发产品推荐系统。
- en: Compilation of employee onboarding queries and answers to identify common questions
    and responses.
  id: totrans-397
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 整理员工入职的查询和答案，以识别常见问题和回答。
- en: 'Pre-processing:'
  id: totrans-398
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 预处理：
- en: 'Definition: Processing the curated data to make it ready for machine learning
    tasks. This involves data cleaning, transformation, or other domain-specific operations.'
  id: totrans-399
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义：处理策划数据，使其准备好进行机器学习任务。这涉及数据清理、转换或其他特定领域的操作。
- en: 'Examples:'
  id: totrans-400
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例子：
- en: Cleaning support tickets to remove any personal customer information.
  id: totrans-401
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 清理支持票据以删除任何个人客户信息。
- en: Structuring and organizing process logs to track stages of execution.
  id: totrans-402
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 结构化和组织过程日志以跟踪执行阶段。
- en: Categorizing email histories based on their subject and content.
  id: totrans-403
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据主题和内容对电子邮件历史进行分类。
- en: Normalizing sales transaction data, such as harmonizing product descriptions,
    to account for seasonal or promotional spikes.
  id: totrans-404
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规范销售交易数据，例如调和产品描述，以应对季节性或促销高峰。
- en: Collating employee onboarding queries and answers to form a comprehensive database.
  id: totrans-405
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 整理员工入职的查询和答案，形成全面的数据库。
- en: 'Training Data Generation using a GPT model:'
  id: totrans-406
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用GPT模型生成训练数据：
- en: 'Definition: Leveraging a GPT model to produce labeled or structured data based
    on the pre-processed information.'
  id: totrans-407
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义：利用GPT模型根据预处理信息生成标记或结构化数据。
- en: 'Examples:'
  id: totrans-408
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例子：
- en: 'Simulating IT-support Dialogues: By inputting customer support tickets into
    a GPT model, entire dialogues are generated that simulate how a customer query
    would be handled by an IT-support desk.'
  id: totrans-409
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 模拟IT支持对话：通过将客户支持票据输入到GPT模型中，生成整个对话，模拟客户查询如何由IT支持台处理。
- en: 'Predicting Process Outcomes: A GPT model, when provided with partial executions
    of a process, generates potential outcomes, which can be used as training data.'
  id: totrans-410
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 预测过程结果：GPT模型在提供部分执行过程时，生成潜在结果，可用作训练数据。
- en: 'Email Classification with GPT: By feeding GPT models with email histories,
    the model can generate classification tags, such as ‘complaint’, ‘query’, or ‘feedback’.'
  id: totrans-411
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用GPT进行电子邮件分类：通过向GPT模型提供电子邮件历史，模型可以生成分类标签，如“投诉”、“查询”或“反馈”。
- en: 'Product Recommendations Simulation: By processing sales data through GPT, we
    can simulate customer purchasing patterns and derive possible product recommendations.'
  id: totrans-412
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 产品推荐模拟：通过GPT处理销售数据，我们可以模拟客户购买模式并得出可能的产品推荐。
- en: 'Question and Answer Generation for HR: GPT can generate question and answer
    pairs related to the onboarding process, forming a diverse dataset.'
  id: totrans-413
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HR的问题和答案生成：GPT可以生成与入职流程相关的问题和答案对，形成一个多样化的数据集。
- en: 'Model Fine-tuning:'
  id: totrans-414
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 模型微调：
- en: 'Definition: Using the generated dataset to train or fine-tune a model specific
    to the task at hand.'
  id: totrans-415
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义：使用生成的数据集来训练或微调特定于手头任务的模型。
- en: 'Examples:'
  id: totrans-416
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例子：
- en: Train a chatbot model with the simulated IT-support dialogues to handle customer
    interactions.
  id: totrans-417
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用模拟的IT支持对话训练聊天机器人模型以处理客户互动。
- en: Train a model to predict process outcomes using the GPT-derived outcomes.
  id: totrans-418
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用GPT派生的结果训练模型以预测过程结果。
- en: Train a classifier to categorize emails based on the tags generated by GPT.
  id: totrans-419
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 训练分类器以根据GPT生成的标签对电子邮件进行分类。
- en: Train a recommendation engine using the GPT-simulated customer purchasing patterns.
  id: totrans-420
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用GPT模拟客户购买模式来训练推荐引擎。
- en: Creating a standard Q&A chatbot that finds similar questions to new inquiries
    and displays the respective answers using the GPT-generated Q&A pairs.
  id: totrans-421
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建标准的问答聊天机器人，找到类似的问题并显示相应的答案，使用GPT生成的问答对。
- en: 'Evaluation and Iteration:'
  id: totrans-422
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 评估和迭代：
- en: 'Definition: Assessing the performance of the trained model and iterating over
    the process if necessary to achieve optimal outcomes.'
  id: totrans-423
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义：评估训练模型的性能，并根据需要重复过程以实现最佳结果。
- en: 'Examples:'
  id: totrans-424
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例子：
- en: Comparing chatbot responses with expert-provided answers to evaluate chatbot
    efficacy.
  id: totrans-425
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将聊天机器人的回答与专家提供的答案进行比较，评估聊天机器人的效果。
- en: Measuring the accuracy of the process outcome predictions against actual outcomes.
  id: totrans-426
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将过程结果预测的准确性与实际结果进行比较。
- en: Evaluating the email classifier’s accuracy by comparing it against manual labels.
  id: totrans-427
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过将其与手动标签进行比较，评估电子邮件分类器的准确性。
- en: Testing the recommendation engine’s suggestions against real-world customer
    feedback.
  id: totrans-428
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 测试推荐引擎的建议与真实客户反馈进行比较。
- en: Reviewing the HR chatbot’s answers by comparing them with the GPT-generated
    dataset to ensure accuracy and relevancy.
  id: totrans-429
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过将HR聊天机器人的答案与GPT生成的数据集进行比较，以确保准确性和相关性。
- en: Each step is meticulously designed to ensure the selected pre-trained model
    is adapted precisely to domain-specific needs, driving efficient and accurate
    outcomes.
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: 每个步骤都经过精心设计，以确保所选的预训练模型精确适应特定领域的需求，推动高效和准确的结果。
- en: '[Pattern Workflow](toc.xhtml#s301a)'
  id: totrans-431
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流程](toc.xhtml#s301a)'
- en: After fine-tuning the workflow is identical to the one for the A2 pattern.
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: 微调后的工作流程与A2模式相同。
- en: '[Enterprise Integration](toc.xhtml#s302a)'
  id: totrans-433
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[企业集成](toc.xhtml#s302a)'
- en: This pattern offers the same level of enterprise integration as in A2.
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式提供了与A2模式中一样的企业集成水平。
- en: '[Output Quality](toc.xhtml#s303a)'
  id: totrans-435
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[输出质量](toc.xhtml#s303a)'
- en: This pattern displays an improved output quality compared to the A2 pattern.
    This enhancement arises from the application of domain-specific knowledge during
    the fine-tuning process, which allows the system to provide more accurate and
    relevant responses within a specific domain.
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: 与A2模式相比，这种模式显示出更高的输出质量。这种改进来自于在微调过程中应用特定领域知识，使系统能够在特定领域内提供更准确和相关的响应。
- en: Like the A2 pattern, it also enriches user prompts with information from the
    enterprise data sources and employs an output filtering process to ensure the
    generated responses’ relevance and appropriateness.
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: 与A2模式一样，它还通过输出过滤过程丰富用户提示的信息来确保生成的响应的相关性和适当性。
- en: '[Performance](toc.xhtml#s304a)'
  id: totrans-438
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[性能](toc.xhtml#s304a)'
- en: This pattern imposes a considerable computational load primarily during the
    training phase, where the model is fine-tuned on domain-specific data. While there
    is ongoing research on its optimization, the process of generating training data
    and fine-tuning the pre-trained language model is still computationally intensive,
    requiring significant resources such as processing power, memory, and time. It
    may also need a large amount of domain-specific data to achieve the desired level
    of performance.
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式在训练阶段主要会产生相当大的计算负载，其中模型会在特定领域的数据上进行微调。虽然对其进行优化的研究仍在进行中，但生成训练数据和微调预训练语言模型的过程仍然需要大量的计算资源，如处理能力、内存和时间。它可能还需要大量的特定领域数据才能达到所需的性能水平。
- en: Once the model is fine-tuned, the operational computational cost is similar
    to other patterns that involve translating user utterances into prompts, generating
    responses, and filtering these responses.
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦模型被微调，操作计算成本与涉及将用户话语转换为提示、生成响应和过滤这些响应的其他模式相似。
- en: However, one significant advantage of the Fine-tuned Conversation pattern is
    that it often results in a model that is smaller than a general-purpose model.
    This reduced size can lower the computational cost for each inference (response
    generation), improve speed, and potentially allow for local deployment, eliminating
    the need for access via a cloud platform and therefore potentially reduce the
    response time.
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，微调对话模式的一个重要优势是，它通常会导致一个比通用模型更小的模型。这种减小的尺寸可以降低每次推理（响应生成）的计算成本，提高速度，并且可能允许本地部署，消除了通过云平台访问的需要，因此可能减少响应时间。
- en: '[Use Cases](toc.xhtml#s305a)'
  id: totrans-442
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[使用案例](toc.xhtml#s305a)'
- en: 'This pattern is particularly useful in scenarios where specific, domain-related
    knowledge is vital. These might include:'
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式在特定领域相关知识至关重要的场景中特别有用。这些可能包括：
- en: '**High Complexity Domains with Rich Examples**: Fields like life science or
    engineering where standard language models might not offer the required depth
    or accuracy in their outputs. Particularly in situations where the availability
    of numerous complex and specialized examples surpasses the capacity of a standard
    prompt, fine-tuning becomes essential.'
  id: totrans-444
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**具有丰富示例的高复杂度领域**：生命科学或工程等领域，标准语言模型可能无法提供所需的深度或准确性的输出。特别是在存在大量复杂和专业示例的情况下，微调变得至关重要。'
- en: '**High-Stakes Environments**: Situations where precision is critical, as inaccuracies
    can lead to significant consequences. Examples include medical diagnoses, financial
    forecasting, or legal advisories where an incorrect interpretation or recommendation
    can have grave repercussions.'
  id: totrans-445
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**高风险环境**：精度至关重要的情况，因为不准确可能导致重大后果。例如医学诊断、财务预测或法律咨询，错误的解释或建议可能会产生严重后果。'
- en: '**Customized** **Experiences** **and** **Tone**: Instances demanding tailored
    interactions or adjustments to cater to distinct user demographics, as well as
    establishments striving to reflect their unique brand voice in model outputs.'
  id: totrans-446
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**定制化体验和语调**：需要定制化互动或调整以满足不同用户群体的需求，以及努力在模型输出中反映其独特品牌声音的机构。'
- en: '**Fast-Changing Domains**: Domains where the knowledge landscape rapidly evolves,
    and constant model retraining offers an advantage over relying on external tools
    or preprocessing. Examples might include the tech industry with frequent software
    updates or news outlets covering rapidly developing events.'
  id: totrans-447
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**快速变化的领域**：知识领域迅速发展，不断进行模型重新训练比依赖外部工具或预处理更有优势。例如技术行业频繁的软件更新或新闻机构报道快速发展的事件。'
- en: '**Steerability, Consistency and Output Formatting**: For businesses requiring
    enhanced control over the model’s behavior, such as maintaining specific language
    outputs or ensuring consistent response formats. This is vital for scenarios like
    code completions or composing API calls.'
  id: totrans-448
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可操纵性、一致性和输出格式化**：对于需要增强对模型行为的控制的企业，比如保持特定语言输出或确保一致的响应格式。这对于代码补全或组成API调用等场景至关重要。'
- en: '**Efficient Prompt Utilization**: Fine-tuning can reduce the necessity for
    lengthy prompts, when the original prompt and its response are predicted from
    a shortcut in the fine.tuning dataset.'
  id: totrans-449
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**高效的提示利用**：微调可以减少对冗长提示的需求，当原始提示及其响应可以从微调数据集中的快捷方式中预测出来时。'
- en: '[C2 Conversation using Two Models](toc.xhtml#s306a)'
  id: totrans-450
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[C2使用两个模型的对话](toc.xhtml#s306a)'
- en: This pattern details an architecture for a GPT-enabled conversational solution
    that deploys a fine-tuned model in synergy with a pre-trained model to produce
    user responses [4] (refer to *[Figure 4.9](#fig4_9)*).
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式详细介绍了一个使用微调模型与预训练模型协同生成用户响应的GPT启用对话解决方案的架构[4]（参见*[图4.9](#fig4_9)*）。
- en: '![](images/Figure-4.9.jpg)'
  id: totrans-452
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-4.9.jpg)'
- en: '**[Figure 4.9](#fig4_9):** Conversation using two models'
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: '**[图4.9](#fig4_9):** 使用两个模型的对话'
- en: '[User Experience Layer](toc.xhtml#s307a)'
  id: totrans-454
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用户体验层](toc.xhtml#s307a)'
- en: This layer utilizes a Standard Chatbot User Interface for user interactions,
    potentially enhanced by voice and avatar functionalities.
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: 该层利用标准聊天机器人用户界面进行用户交互，可能还增加了语音和头像功能。
- en: '[Application Layer](toc.xhtml#s308a)'
  id: totrans-456
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[应用层](toc.xhtml#s308a)'
- en: 'The application layer comprises two prompt generators, a response filter, and
    enterprise applications and databases:'
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: 应用层包括两个提示生成器、一个响应过滤器以及企业应用和数据库：
- en: 'Enterprise Applications and Databases: These are internal tools and data sources.'
  id: totrans-458
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 企业应用和数据库：这些是内部工具和数据源。
- en: 'Prompt Generator 1: This component interprets the user’s utterance and calls
    the relevant APIs of the enterprise applications and databases, integrating the
    returned data into an initial prompt for the fine-tuned model.'
  id: totrans-459
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提示生成器1：这个组件解释用户的话语，并调用企业应用和数据库的相关API，将返回的数据整合到微调模型的初始提示中。
- en: 'Prompt Generator 2: This takes the input and output of the fine-tuned model,
    calls necessary APIs from the enterprise applications and databases again if required,
    and forms a new prompt for the pre-trained GPT model to generate the final response.'
  id: totrans-460
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提示生成器2：这个组件接受微调模型的输入和输出，如果需要，再次调用企业应用和数据库的必要API，并为预先训练的GPT模型生成最终响应的新提示。
- en: 'Response Filter: This component checks the final response against various criteria
    to ensure that it’s appropriate and relevant to the user’s query.'
  id: totrans-461
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 响应过滤器：这个组件根据各种标准检查最终响应，以确保它与用户的查询相关且适当。
- en: '[AI Layer](toc.xhtml#s309a)'
  id: totrans-462
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[AI层](toc.xhtml#s309a)'
- en: This layer comprises a pre-trained model, a fine-tuned model, GPT as training-data
    generator, GPT as response generator, and a knowledge base.
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: 该层包括一个预先训练的模型、一个微调模型、GPT作为训练数据生成器、GPT作为响应生成器以及一个知识库。
- en: The fine-tuning process is identical to the process described in the previous
    pattern.
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
  zh: 微调过程与前一模式中描述的过程相同。
- en: '[Pattern Workflow](toc.xhtml#s310a)'
  id: totrans-465
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流程](toc.xhtml#s310a)'
- en: 'User Interaction to Initial Prompt Creation: The user communicates their query
    to the system. Prompt Generator 1 comprehends this input, liaising with backend
    system APIs to assimilate necessary data. This combined information forms an initial
    prompt tailored for the fine-tuned model.'
  id: totrans-466
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户交互到初始提示创建：用户向系统传达他们的查询。提示生成器1理解这个输入，与后端系统API进行联络，吸收必要的数据。这些综合信息形成了一个为微调模型量身定制的初始提示。
- en: 'Fine-tuned Model Interaction: The fine-tuned model, specialized in its domain
    of expertise, evaluates the initial prompt and produces a concise yet informed
    output.'
  id: totrans-467
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 微调模型交互：微调模型在其专业领域内进行评估初始提示，并产生简洁而明晰的输出。
- en: 'Prompt for Pre-trained GPT Model: Prompt Generator 2 amalgamates the input
    and the output from the fine-tuned model. It may further enhance the data by consulting
    additional backend APIs, culminating in a well-rounded prompt designed for the
    pre-trained GPT model.'
  id: totrans-468
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 预先训练的GPT模型的提示：提示生成器2将微调模型的输入和输出合并。它可能通过咨询额外的后端API进一步增强数据，最终形成一个为预先训练的GPT模型设计的全面提示。
- en: 'Generating Final Response: The pre-trained GPT model, equipped with a broader
    understanding, crafts a comprehensive and articulate response based on the received
    prompt.'
  id: totrans-469
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 生成最终响应：预先训练的GPT模型，具有更广泛的理解能力，根据接收到的提示制作全面而有条理的响应。
- en: 'Response Filtering: The resultant message undergoes scrutiny against certain
    standards of relevance and appropriateness. On clearing this assessment, it is
    delivered to the user, but failing the check results in a default response being
    displayed.'
  id: totrans-470
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 响应过滤：结果消息经过一定标准的相关性和适当性检查。通过此评估后，将其传递给用户，但未通过检查则显示默认响应。
- en: '[Pattern Workflow Example](toc.xhtml#s311a)'
  id: totrans-471
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流程示例](toc.xhtml#s311a)'
- en: Using this pattern, let us outline an example scenario where a user wants to
    purchase a laptop and needs advice on the best options available based on their
    specific needs.
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这个模式，让我们概述一个示例场景，用户想购买一台笔记本电脑，并根据他们的特定需求寻求最佳选择的建议。
- en: 'Your interaction is: “I’m looking for a laptop suitable for graphic design
    tasks. My budget is $1500\. What do you recommend?”'
  id: totrans-473
  prefs: []
  type: TYPE_NORMAL
  zh: 您的交互是：“我正在寻找一台适合图形设计任务的笔记本电脑。我的预算是$1500。你有什么推荐？”
- en: 'Here’s how the C2 pattern would be employed, with the step numbers of the example
    aligning with the steps in the general workflow:'
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是C2模式的应用方式，示例中的步骤编号与一般工作流程中的步骤相对应：
- en: 'User Interaction to Initial Prompt Creation: After expressing your requirement,
    Prompt Generator 1 interprets your query. It calls the backend system’s API to
    fetch available laptops within the price range and their specifications. This
    information is integrated into an initial prompt, which could be: “Provide suitable
    laptop recommendations within $1500, prioritizing graphic design capabilities.”'
  id: totrans-475
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户交互到初始提示创建：在表达您的需求后，提示生成器1解释您的查询。它调用后端系统的API来获取价格范围内可用的笔记本电脑及其规格。这些信息被整合到一个初始提示中，可能是：“在$1500内提供适合的笔记本电脑推荐，优先考虑图形设计能力。”
- en: 'Fine-tuned Model Interaction: The fine-tuned model, trained specifically to
    understand electronic products and user requirements, might generate a concise
    list: “Consider the [Laptop Brand A] with [Spec A] priced at $1400, or [Laptop
    Brand B] with [Spec B] priced at $1450\. Both are suitable for graphic design.”'
  id: totrans-476
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 微调模型交互：微调模型专门针对电子产品和用户需求进行培训，可能生成一个简洁的列表：“考虑[Laptop Brand A]，配备[Spec A]，售价$1400，或[Laptop
    Brand B]，配备[Spec B]，售价$1450。两者都适合图形设计。”
- en: 'Prompt for Pre-trained GPT Model: Prompt Generator 2 takes the input and the
    output from the fine-tuned model, possibly calling additional backend APIs (maybe
    for user reviews or availability), resulting in a prompt for the pre-trained GPT
    model: “Given the user’s graphic design requirements and a budget of $1500, and
    considering the recommended laptops [Laptop Brand A] with [Spec A] priced at $1400
    and [User Review A] and [Laptop Brand B] with [Spec B], priced at $1450 and [User
    Review B], craft a detailed and persuasive response.”'
  id: totrans-477
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 预训练GPT模型的提示：Prompt Generator 2接受来自经过精细调整模型的输入和输出，可能调用额外的后端API（也许是用户评论或可用性），生成预训练GPT模型的提示：“考虑到用户的平面设计需求和1500美元的预算，以及推荐的笔记本电脑[Laptop
    Brand A]，配备[Spec A]，售价1400美元和[User Review A]，以及[Laptop Brand B]，配备[Spec B]，售价1450美元和[User
    Review B]，制定一个详细而有说服力的回应。”
- en: 'Generating Final Response: The pre-trained GPT model processes the comprehensive
    prompt, producing an elaborate reply: “Based on your needs and budget, I’d recommend
    the [Laptop Brand A] which boasts [Spec A], perfect for graphic design tasks and
    is well under your budget at $1400\. It’s been highly rated by users, especially
    for its [specific feature]. Another great option is the [Laptop Brand B] priced
    at $1450, offering [Spec B] and has also received positive feedback from graphic
    designers. Both are available for purchase now. Which one interests you?”'
  id: totrans-478
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 生成最终回应：预训练GPT模型处理全面的提示，产生一个详细的回复：“根据您的需求和预算，我建议[Laptop Brand A]，配备[Spec A]，非常适合平面设计任务，价格为1400美元，远低于您的预算。它得到了用户的高度评价，特别是因为它的[specific
    feature]。另一个很好的选择是[Laptop Brand B]，售价1450美元，提供[Spec B]，也受到平面设计师的积极反馈。两者现在都可以购买。您对哪个感兴趣？”
- en: 'Response Filtering: This detailed response is vetted to ensure it meets the
    appropriateness and relevance criteria. If it passes, the message is relayed to
    you. If not, you’d see a generic response, perhaps something like: “Sorry, I couldn’t
    process your request. Please try again.”'
  id: totrans-479
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 响应过滤：对这个详细的回应进行审查，以确保它符合适当性和相关性的标准。如果通过，消息将传递给您。如果没有，您可能会看到一个通用的回应，也许是这样的：“抱歉，我无法处理您的请求。请再试一次。”
- en: '[Enterprise Integration](toc.xhtml#s312a)'
  id: totrans-480
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[企业集成](toc.xhtml#s312a)'
- en: In this pattern, enterprise integration is achieved twice by incorporating enterprise
    applications and databases into the Application Layer.
  id: totrans-481
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种模式中，通过将企业应用程序和数据库整合到应用层中，实现了两次企业集成。
- en: The two Prompt Generators in the Application Layer are designed to call the
    relevant APIs of the enterprise applications and databases directly. ‘Prompt Generator
    1’ utilizes data returned from these API calls to form an initial enriched prompt
    for the fine-tuned model. Similarly, ‘Prompt Generator 2’ may call additional
    APIs from the enterprise applications and databases, integrating the returned
    data into a new prompt for the pre-trained GPT model.
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: 应用层中的两个提示生成器旨在直接调用企业应用程序和数据库的相关API。‘Prompt Generator 1’利用从这些API调用返回的数据来为经过精细调整的模型形成初始丰富的提示。同样，‘Prompt
    Generator 2’可能会从企业应用程序和数据库调用额外的API，将返回的数据集成到预训练GPT模型的新提示中。
- en: '[Output Quality](toc.xhtml#s313a)'
  id: totrans-483
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[输出质量](toc.xhtml#s313a)'
- en: The “Conversation using Two Models” pattern improves output quality by leveraging
    the unique strengths of both fine-tuned and pre-trained models. It uses the fine-tuned
    model’s capacity for specialized, context-aware responses, and the general versatility
    of the pre-trained GPT model. This synergy of models facilitates an adaptable
    and context-specific response generation that can cater to a variety of conversational
    scenarios.
  id: totrans-484
  prefs: []
  type: TYPE_NORMAL
  zh: “使用两个模型进行对话”的模式通过利用经过精细调整和预训练模型的独特优势来提高输出质量。它利用了经过精细调整的模型对专业化、上下文感知的响应的能力，以及预训练的GPT模型的通用多功能性。这些模型的协同作用促进了适应性和特定上下文的响应生成，可以满足各种对话场景的需求。
- en: Like in the **Grounded Conversation** pattern (A2), this architecture also includes
    the prompt grounding and enriching aspect, utilizing data from enterprise applications
    and databases to refine and inform the prompts provided to the AI models. This
    grounding process is executed twice in this pattern, once for each model, which
    allows for a deeper, and more intricate understanding of the user’s intent.
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
  zh: 就像在**基于事实的对话**模式（A2）中一样，这种架构也包括提示的基础和丰富方面，利用来自企业应用程序和数据库的数据来完善和指导提供给AI模型的提示。这种基础过程在这种模式中执行两次，每个模型执行一次，这允许更深入、更复杂地理解用户的意图。
- en: '[Performance](toc.xhtml#s314a)'
  id: totrans-486
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[性能](toc.xhtml#s314a)'
- en: The computational demand of the ‘Conversation using Two Models’ pattern is higher,
    as it involves two separate language models for each user interaction. The first
    computational load is the fine-tuning of the model, which is done offline and
    can be computationally expensive as described for the previous pattern.
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
  zh: “使用两个模型进行对话”的模式的计算需求更高，因为它涉及到每个用户交互的两个独立语言模型。第一个计算负载是模型的精细调整，这是离线完成的，可能会像前一个模式描述的那样在计算上昂贵。
- en: The second, and potentially more significant, computational load arises during
    the interaction itself. Every user prompt is processed twice, first by the fine-tuned
    model and then by the pre-trained GPT model. Both of these steps require CPU or
    GPU resources and take a certain amount of time. Additionally, the application
    layer processes, such as calling APIs from enterprise applications and databases
    potentially twice and generating enriched prompts, also contribute to the computational
    load.
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个，可能更重要的计算负载是在交互过程中产生的。每个用户提示都要经过两次处理，首先是由经过精细调整的模型处理，然后是由预训练的GPT模型处理。这两个步骤都需要CPU或GPU资源，并需要一定的时间。此外，应用层的处理，比如从企业应用程序和数据库调用API，可能需要两次，并生成丰富的提示，也会增加计算负载。
- en: '[Use Cases](toc.xhtml#s315a)'
  id: totrans-489
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用例](toc.xhtml#s315a)'
- en: 'This dual-model pattern shines in environments that demand a specialized and
    a general model working in tandem. Potential scenarios include:'
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
  zh: 这种双模型模式在需要专业模型和通用模型共同工作的环境中表现出色。潜在的场景包括：
- en: 'Multistage Query Resolution: In domains like IT support, the first model can
    quickly diagnose an issue based on a user’s problem description, and the second
    can offer detailed step-by-step solutions that are more user-friendly.'
  id: totrans-491
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多阶段查询解决方案：在IT支持等领域，第一个模型可以根据用户的问题描述快速诊断问题，第二个模型可以提供更用户友好的详细逐步解决方案。
- en: 'Data-Enriched Product Recommendations: In e-commerce, the first model can identify
    and list products based on user preferences, while the second model can cross-reference
    the shortlist with user reviews, ratings, or trending data to provide a more comprehensive
    recommendation.'
  id: totrans-492
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据丰富的产品推荐：在电子商务中，第一个模型可以根据用户偏好识别和列出产品，而第二个模型可以将短列表与用户评论、评级或趋势数据进行交叉参考，以提供更全面的推荐。
- en: 'Legal Consultation: Initially, the first model can identify relevant laws or
    precedents based on a user’s query, and the second model can explain them in layman’s
    terms, ensuring comprehension.'
  id: totrans-493
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 法律咨询：最初，第一个模型可以根据用户的查询识别相关法律或先例，第二个模型可以用通俗的语言解释它们，确保理解。
- en: 'Financial Planning: Initially, the first model can provide a financial overview
    or strategy based on the user’s financial situation, and the second model can
    delve deeper into specifics like investment opportunities, risks, and detailed
    budgeting.'
  id: totrans-494
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 财务规划：最初，第一个模型可以根据用户的财务状况提供财务概况或策略，第二个模型可以深入研究投资机会、风险和详细预算等具体内容。
- en: 'Educational Content Creation: The first model can outline a learning module
    or lesson plan based on a curriculum, and the second can develop detailed content,
    activities, and assessments.'
  id: totrans-495
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 教育内容创建：第一个模型可以根据课程大纲概述学习模块或教学计划，第二个模型可以开发详细的内容、活动和评估。
- en: '[D1 Agent Patterns](toc.xhtml#s316a)'
  id: totrans-496
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[D1代理模式](toc.xhtml#s316a)'
- en: 'In this section, we delve into specialized agent patterns that harness GPT
    integration, highlighting their distinct architectural facets and application
    functionalities. The focus is on automation, adaptability, and user collaboration:'
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，我们深入探讨了利用GPT集成的专门代理模式，突出它们独特的架构特点和应用功能。重点是自动化、适应性和用户协作：
- en: '**Batch Automation Agent (D1):** This agent first pre-processes data and then
    executes a two-step loop: processing each augmented data record and guiding a
    GPT model through sequential instructions, where the outcome of one instruction
    provides the input to the next one until the sequence is fully processed.'
  id: totrans-498
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**批量自动化代理（D1）**：该代理首先对数据进行预处理，然后执行两步循环：处理每个增强的数据记录，并通过顺序指令引导GPT模型，其中一个指令的结果提供下一个指令的输入，直到序列完全处理。'
- en: '**Orchestration Agent (D2):** Central to this pattern is the Orchestration
    Agent seamlessly linking users, GPT models, applications, databases, and knowledge
    bases. The orchestration can be achieved via a workflow prompt or a program.'
  id: totrans-499
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编排代理（D2）：这种模式的核心是编排代理，它无缝地连接用户、GPT模型、应用程序、数据库和知识库。编排可以通过工作流提示或程序实现。
- en: '**Collaboration Agent (D3):** Pivotal to this pattern is the collaboration
    agent, which aligns multiple users and a GPT model in a dynamic cooperative setting.
    Through the Collaboration Repository, each GPT interaction is driven by an evolving
    context, which consists of prompts by multiple users and the previous model outputs.'
  id: totrans-500
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**协作代理（D3）**：这种模式的关键是协作代理，它在动态的合作环境中使多个用户和GPT模型保持一致。通过协作存储库，每个GPT交互都受到不断发展的上下文的驱动，其中包括多个用户的提示和先前模型的输出。'
- en: '**Multi-Agent Cooperation (D4)**: In this design, multiple agents work together
    to achieve a given user goal jointly. The Planning Agent decomposes the goal into
    tasks and derives expert agent profiles accordingly. The Orchestration Agent then
    creates and manages Expert Agents based on these profiles, while the Expert Agents
    execute their designated tasks towards achieving the user’s goal.'
  id: totrans-501
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**多代理协作（D4）**：在这种设计中，多个代理共同努力实现给定用户目标。规划代理将目标分解为任务，并相应地推导专家代理配置文件。然后编排代理根据这些配置文件创建和管理专家代理，而专家代理执行其指定的任务以实现用户的目标。'
- en: '[D1 Batch Automation Agent](toc.xhtml#s317a)'
  id: totrans-502
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[D1批量自动化代理](toc.xhtml#s317a)'
- en: 'This pattern showcases a GPT-centric system steered by a Batch Automation Agent.
    Data records sourced from enterprise applications and databases are enriched via
    a knowledge base. The agent then employs a dual-loop mechanism: iterating over
    each enriched record and guiding GPT through a sequence of prompts. Results from
    one prompt inform the next. Post-processing makes the outputs ready to be displayed
    by the user interface (refer to *[Figure 4.10](#fig4_10)*).'
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式展示了一个以GPT为中心的系统，由批量自动化代理驱动。来自企业应用程序和数据库的数据记录通过知识库进行丰富。然后代理采用双循环机制：迭代每个丰富的记录，并引导GPT通过一系列提示。一个提示的结果影响下一个提示。后处理使输出准备好由用户界面显示（参见*[图4.10](#fig4_10)*）。
- en: '![](images/Figure-4.10.jpg)'
  id: totrans-504
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-4.10.jpg)'
- en: '**[Figure 4.10](#fig4_10):** Batch automation agent'
  id: totrans-505
  prefs: []
  type: TYPE_NORMAL
  zh: '**[图4.10](#fig4_10)：** 批量自动化代理'
- en: '[User Experience Layer](toc.xhtml#s318a)'
  id: totrans-506
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用户体验层](toc.xhtml#s318a)'
- en: Displays the results of the batch-processed outputs and facilitates user interaction
    through a chatbot or web user interface.
  id: totrans-507
  prefs: []
  type: TYPE_NORMAL
  zh: 显示批处理输出的结果，并通过聊天机器人或Web用户界面促进用户交互。
- en: '[Application Layer](toc.xhtml#s319a)'
  id: totrans-508
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[应用层](toc.xhtml#s319a)'
- en: 'This layer is comprised of the Pre-Processor, Enterprise Applications and Databases,
    a Batch Automation Agent, and a Post-Processor:'
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
  zh: 该层由预处理器、企业应用程序和数据库、批量自动化代理和后处理器组成：
- en: 'Enterprise Applications and Databases: The enterprise applications and databases
    serve as the primary source of raw data records.'
  id: totrans-510
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 企业应用程序和数据库：企业应用程序和数据库是原始数据记录的主要来源。
- en: 'Pre-Processor: The pre-processor performs the same steps as in the conversation
    pattern, but this time for an entire batch of data records.'
  id: totrans-511
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 预处理器：预处理器执行与对话模式相同的步骤，但这次是针对整个数据记录批处理。
- en: 'Batch Automation Agent: This agent employs a dual-loop mechanism: the outer
    loop processes each data record in the batch, and the inner loop iteratively feeds
    a sequence of enriched prompts related to the current record into a GPT model.'
  id: totrans-512
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 批量自动化代理：该代理采用双循环机制：外部循环处理批处理中的每个数据记录，内部循环迭代地将与当前记录相关的一系列丰富提示输入到GPT模型中。
- en: 'Post Processor: Once the Batch Automation Agent has produced batched responses,
    the post-processor formats these for display in the user experience layer.'
  id: totrans-513
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 后处理器：一旦批量自动化代理生成了批量响应，后处理器会将其格式化为用户体验层的显示。
- en: '[AI Layer](toc.xhtml#s320a)'
  id: totrans-514
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[AI层](toc.xhtml#s320a)'
- en: The AI layer has the same functionality as in the Grounded Conversation Pattern
    (A2).
  id: totrans-515
  prefs: []
  type: TYPE_NORMAL
  zh: AI层具有与**扎根对话**模式（A2）相同的功能。
- en: '[Pattern Workflow](toc.xhtml#s321a)'
  id: totrans-516
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流程](toc.xhtml#s321a)'
- en: Enterprise Applications and Databases provide batches of data records.
  id: totrans-517
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 企业应用和数据库提供批量数据记录。
- en: The pre-processor, leveraging the knowledge base, creates enriched data records.
  id: totrans-518
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 预处理器利用知识库创建丰富的数据记录。
- en: 'The Batch Automation Agent employs its dual-loop mechanism: for each enriched
    record in the batch (outer loop), it processes a sequence of prompts (inner loop)
    to a GPT model.'
  id: totrans-519
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 批量自动化代理采用其双循环机制：对于批处理中的每个丰富记录（外部循环），它会处理一系列提示（内部循环）到一个GPT模型。
- en: The post-processor organizes the batch output for optimal display.
  id: totrans-520
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 后处理器为最佳显示组织批量输出。
- en: The user experience layer visualizes the formatted output.
  id: totrans-521
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户体验层可视化格式化输出。
- en: '[Pattern Workflow Example](toc.xhtml#s322a)'
  id: totrans-522
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流程示例](toc.xhtml#s322a)'
- en: Imagine a rental car company, wants to process the vast number of customer reviews
    they receive daily about their car rentals and service. The goal is to categorize
    these reviews and present them in a categorized, summarized, user-friendly format
    for their branch managers.
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一家租车公司，希望处理他们每天收到的大量关于汽车租赁和服务的客户评论。目标是对这些评论进行分类，并以分类、总结、用户友好的格式呈现给他们的分店经理。
- en: 'Here is an example workflow:'
  id: totrans-524
  prefs: []
  type: TYPE_NORMAL
  zh: 这里有一个示例工作流程：
- en: 'Source Data Collection: The company’s Rental Management System and feedback
    portals, acting as the Enterprise Applications and Databases, gather the day’s
    customer reviews, aggregating a batch of several hundred feedback entries.'
  id: totrans-525
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 源数据收集：公司的租车管理系统和反馈门户作为企业应用和数据库，收集当天的客户评论，汇总成几百条反馈条目的批量。
- en: 'Data Enrichment: The Pre-Processor takes each review and uses an internal knowledge
    base to add context. For instance, a review stating, “The car’s AC wasn’t working”
    might be enriched to: “Customer found the air conditioning of the [Car Model]
    rented from [Specific Branch] faulty.”'
  id: totrans-526
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据丰富：预处理器接受每个评论并使用内部知识库添加上下文。例如，一条评论说，“汽车的空调坏了”可能会被丰富为：“顾客发现从[具体分店]租来的[汽车型号]的空调有问题。”
- en: 'Dual-Loop Data Processing:'
  id: totrans-527
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双循环数据处理：
- en: 'Outer Loop: The Batch Automation Agent starts processing each enriched review.'
  id: totrans-528
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 外部循环：批量自动化代理开始处理每个丰富的评论。
- en: 'Inner Loop:'
  id: totrans-529
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内部循环：
- en: 'First Prompt: “Given the review ‘[Enriched Review]’, determine its sentiment
    (positive, neutral, negative) and the primary concern category (for example, vehicle
    condition, customer service, pricing, booking process).”'
  id: totrans-530
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第一个提示：“根据评论‘[丰富的评论]’，确定其情绪（积极的、中立的、消极的）和主要关注类别（例如，车辆状况、客户服务、定价、预订流程）。”
- en: 'Second Prompt: “Based on the sentiment and category identified, create a concise
    summary suitable for branch managerial review.”'
  id: totrans-531
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第二个提示：“根据识别的情绪和类别，创建一个适合分店经理审阅的简洁摘要。”
- en: '(Note: Depending on the system’s design, further prompts can be added to extract
    more nuanced information.)'
  id: totrans-532
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: （注意：根据系统设计，可以添加进一步提示以提取更细致的信息。）
- en: 'Data Formatting: Once a GPT model has processed all the reviews, the post-processor
    structures the batched summaries. Reviews are grouped by branch, car model, and
    concern category. The data is prepared for optimal visualization, possibly by
    generating charts showcasing recurrent issues or a leaderboard ranking branches
    by positive feedback.'
  id: totrans-533
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 数据格式化：一旦GPT模型处理了所有评论，后处理器会对批量摘要进行结构化。评论按分店、车型和关注类别分组。数据准备好进行最佳可视化，可能通过生成展示经常问题的图表或通过积极反馈排名分店的排行榜来展示。
- en: 'Visualization and User Interaction: The User Experience Layer displays these
    structured summaries on an interactive dashboard. Branch managers can delve into
    specific feedback categories, view individual reviews, or ask more detailed questions
    through an integrated chatbot.'
  id: totrans-534
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可视化和用户交互：用户体验层在交互式仪表板上显示这些结构化摘要。分店经理可以深入特定的反馈类别，查看个别评论，或通过集成的聊天机器人提出更详细的问题。
- en: '[Enterprise Integration](toc.xhtml#s323a)'
  id: totrans-535
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[企业集成](toc.xhtml#s323a)'
- en: Equates to the integration level of the **Grounded Conversation** pattern (A2).
  id: totrans-536
  prefs: []
  type: TYPE_NORMAL
  zh: 相当于**扎根对话**模式（A2）的集成级别。
- en: '[Output Quality](toc.xhtml#s324a)'
  id: totrans-537
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[输出质量](toc.xhtml#s324a)'
- en: 'The Batch Automation Agent’s dual-loop mechanism, while maintaining continuity
    and context, poses a challenge: the risk of error accumulation. If one prompt
    in the sequence generates an inaccurate or suboptimal response, subsequent prompts
    might build upon this error, potentially compounding inaccuracies. This emphasizes
    the importance of ensuring the precision of each individual prompt to maintain
    the overall quality of the responses.'
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
  zh: 批量自动化代理的双循环机制在保持连续性和上下文的同时，也带来了一个挑战：错误累积的风险。如果序列中的一个提示生成了不准确或次优的响应，随后的提示可能会基于这个错误，潜在地使不准确性叠加。这强调了确保每个单独提示的精度以维护响应的整体质量的重要性。
- en: '[Performance](toc.xhtml#s325a)'
  id: totrans-539
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[性能](toc.xhtml#s325a)'
- en: While the dual-loop nature might introduce complexities, the batch processing
    approach aims for efficiency. Batch processing inherently has a latency until
    the entire batch completes, but the results are comprehensive and the process
    runs autonomously without user involvement.
  id: totrans-540
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然双循环的特性可能引入复杂性，但批量处理方法旨在提高效率。批量处理本质上具有延迟，直到整个批次完成，但结果是全面的，过程在没有用户参与的情况下自主运行。
- en: '[Use Cases](toc.xhtml#s326a)'
  id: totrans-541
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[使用案例](toc.xhtml#s326a)'
- en: 'This architectural pattern is apt for scenarios demanding advanced batched
    knowledge-based automation. Especially prominent in Knowledge Management domains,
    it provides a robust solution for the swift processing, categorization, and representation
    of voluminous data. Notable applications include:'
  id: totrans-542
  prefs: []
  type: TYPE_NORMAL
  zh: 这种架构模式适用于需要高级批量知识驱动自动化的场景。在知识管理领域特别突出，为大量数据的快速处理、分类和表示提供了强大的解决方案。值得注意的应用包括：
- en: 'Information Extraction: Diving into extensive documents to unearth pertinent
    insights, this functionality is especially invaluable in sectors such as research,
    law, or journalism.'
  id: totrans-543
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信息提取：深入研究广泛的文件，挖掘相关的见解，这个功能在研究、法律或新闻等领域尤其有价值。
- en: 'Data Transformations and Quality Management: With the ability to integrate
    data from different formats and structures, and finding redundancies, inconsistencies,
    it enables the use of standard analytics tools.'
  id: totrans-544
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据转换和质量管理：具有整合不同格式和结构的数据，发现冗余、不一致性的能力，使得可以使用标准分析工具。
- en: 'Process Analysis: By examining patterns extracted from diverse event logs,
    it offers actionable insights that aid in refining workflows. This is especially
    beneficial for industries that hinge on intricate process metrics.'
  id: totrans-545
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 过程分析：通过检查从不同事件日志中提取的模式，提供有助于完善工作流程的可操作见解。这对于依赖于复杂过程指标的行业特别有益。
- en: 'Advanced Data Mining: By employing methodologies like Association rule mining
    and cluster analysis on unstructured data, the architecture is capable of deciphering
    patterns and insights that might elude traditional analysis.'
  id: totrans-546
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高级数据挖掘：通过在非结构化数据上使用关联规则挖掘和聚类分析等方法，该架构能够解读传统分析可能忽略的模式和见解。
- en: 'Automatic Tagging: By enhancing search results and fortifying recommendations,
    this feature streamlines user experience, tagging content automatically based
    on the content’s nature.'
  id: totrans-547
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动标记：通过增强搜索结果和加强推荐，这个功能简化了用户体验，根据内容的性质自动标记内容。
- en: '[D2 Orchestration Agent](toc.xhtml#s327a)'
  id: totrans-548
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[D2编排代理](toc.xhtml#s327a)'
- en: At the heart of this architecture is the orchestrated workflow, designed to
    guide user-GPT engagements from initiation to conclusion. The Orchestration Agent,
    central to this workflow, integrates users, GPT models, applications, databases,
    and knowledge bases (see *[Figure 4.11](#fig4_11)*).
  id: totrans-549
  prefs: []
  type: TYPE_NORMAL
  zh: 这种架构的核心是编排的工作流程，旨在指导用户-GPT从开始到结束的互动。编排代理是这个工作流程的核心，集成了用户、GPT模型、应用程序、数据库和知识库（见*[图4.11](#fig4_11)*）。
- en: '![](images/Figure-4.11.jpg)'
  id: totrans-550
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-4.11.jpg)'
- en: '**[Figure 4.11](#fig4_11):** Orchestration agent'
  id: totrans-551
  prefs: []
  type: TYPE_NORMAL
  zh: '**[图4.11](#fig4_11)：**编排代理'
- en: '[User Experience Layer](toc.xhtml#s328a)'
  id: totrans-552
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用户体验层](toc.xhtml#s328a)'
- en: This layer is where multiple users connect with the system. They might use chatbots
    or a web interface. They provide requests, see their tasks and get responses from
    GPT models.
  id: totrans-553
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层是多个用户与系统连接的地方。他们可能使用聊天机器人或Web界面。他们提出请求，查看他们的任务，并从GPT模型获得回应。
- en: '[Application Layer](toc.xhtml#s329a)'
  id: totrans-554
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[应用层](toc.xhtml#s329a)'
- en: 'Divided into three main components, this layer orchestrates the flow of tasks
    and interactions:'
  id: totrans-555
  prefs: []
  type: TYPE_NORMAL
  zh: 分为三个主要组件，这一层协调任务和互动的流程：
- en: 'Orchestration Agent: The pivotal component exists in two variants:'
  id: totrans-556
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编排代理：这个关键组件存在两种变体：
- en: 'Program-based Agent: Used for static workflows coded in a suitable programming
    language like Python or Java[⁷](#ftn7a) to control sequential task execution.'
  id: totrans-557
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于程序的代理：用于使用适当的编程语言（如Python或Java）编写的静态工作流程，以控制顺序任务执行。
- en: 'Prompt-based Agent: Suitable for dynamic workflows that involve planning, execution,
    and adaption. It employs workflow prompts integrated with external tools, reminiscent
    of the architecture patterns B1 - B3.'
  id: totrans-558
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于提示的代理：适用于涉及规划、执行和适应的动态工作流程。它使用与外部工具集成的工作流提示，类似于B1-B3架构模式。
- en: 'Enterprise Applications and Databases: These are the enterprise-specific tools
    and data sources that the agent leverages.'
  id: totrans-559
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 企业应用和数据库：这些是代理利用的特定企业工具和数据源。
- en: 'Information Retrieval Tools: This includes public tools, like search engines
    or websites, that the system utilizes to contextualize subsequent prompts.'
  id: totrans-560
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信息检索工具：这包括公共工具，如搜索引擎或网站，系统利用这些工具来给后续提示提供上下文。
- en: '[AI Layer](toc.xhtml#s330a)'
  id: totrans-561
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[AI层](toc.xhtml#s330a)'
- en: 'This layer encompasses:'
  id: totrans-562
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层包括：
- en: 'Main GPT model in two potential roles:'
  id: totrans-563
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 两种潜在角色中的主GPT模型：
- en: 'Response Generator for Specific Workflow Tasks (in program-based orchestration):
    In this capacity, a GPT model responds to task-specific prompts defined within
    a scripted workflow.'
  id: totrans-564
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 特定工作流任务的响应生成器（基于程序的编排）：在这种情况下，GPT模型对脚本化工作流中定义的特定任务进行回应。
- en: 'Workflow Engine (in prompt-based orchestration): Here a GPT model takes on
    a broader role, managing the flow and execution of tasks through workflow prompts.'
  id: totrans-565
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 工作流引擎（基于提示的编排）：在这里，GPT模型承担更广泛的角色，通过工作流提示管理任务的流程和执行。
- en: 'Knowledge Base: This component provides both long-term and short-term memory
    functionalities and hence goes beyond the static repository role it played in
    previous patterns:'
  id: totrans-566
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 知识库：该组件提供长期和短期记忆功能，因此超越了它在以前模式中扮演的静态存储库角色：
- en: 'Long-term Memory: This part stores a variety of knowledge, differentiated into
    various categories based on the origin and nature of the information:'
  id: totrans-567
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 长期记忆：这部分存储各种知识，根据信息的来源和性质进行分类。
- en: 'Learned Knowledge: This comprises insights and information generated from previous
    interactions where GPT models have responded. It forms an evolving body of knowledge,
    continuously enriched through monitoring and analyzing the outcomes of the GPT
    model’s past responses, to foster a more nuanced understanding and improved performance
    over time.'
  id: totrans-568
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 学习知识：这包括从以前的互动中生成的见解和信息，GPT模型做出了回应。它形成了一个不断丰富的知识体系，通过监控和分析GPT模型过去回应的结果，以促进对时间的更细致理解和改进性能。
- en: 'Retrieved Knowledge: This section stores data and information that have been
    fetched from external resources during earlier operations, such as results from
    searches in previous user engagements. It helps in preserving valuable findings
    for future reference, avoiding repeated search operations for the same queries,
    and ensuring consistent responses.'
  id: totrans-569
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 检索到的知识：这部分存储了在先前操作中从外部资源获取的数据和信息，例如在先前用户互动中搜索的结果。它有助于保留有价值的发现以供将来参考，避免对相同查询进行重复搜索操作，并确保一致的响应。
- en: 'Acquired Knowledge: This part of the memory houses knowledge that is often
    curated and verified by Subject Matter Experts (SMEs). It represents a structured
    and reliable repository of information, cultivated over time to provide a solid
    foundation for the GPT model’s responses, ensuring that the output aligns well
    with enterprise standards and expert validations.'
  id: totrans-570
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 获取的知识：这部分记忆中存放着经常由专业主题专家（SMEs）策划和验证的知识。它代表了随着时间的推移形成的结构化和可靠的信息库，为GPT模型的响应提供了坚实的基础，确保输出与企业标准和专家验证相一致。
- en: 'Short-term Memory: This part is designed to retain the results of intermediate
    interactions with users, GPT models, enterprise applications, or search tools,
    holding the data temporarily to facilitate cohesive and adaptive engagements through
    the recall of recent interactions and computations. This memory is ephemeral and
    is cleared out after a session ends or after a predefined period, maintaining
    data relevancy and security.'
  id: totrans-571
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 短期记忆：这部分旨在保留与用户、GPT模型、企业应用程序或搜索工具的中间交互结果，暂时保存数据以便通过回忆最近的交互和计算来促进连贯和适应性的互动。这种记忆是短暂的，在会话结束或预定义的时间后会被清除，以保持数据的相关性和安全性。
- en: 'GPT-Critic: An auxiliary GPT model tasked with assessing the validity and quality
    of the primary GPT model’s outputs.'
  id: totrans-572
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GPT-Critic：一个辅助GPT模型，负责评估主要GPT模型的输出的有效性和质量。
- en: '[Pattern Workflow with program-based orchestration agent](toc.xhtml#s331a)'
  id: totrans-573
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[基于程序的编排代理的模式工作流](toc.xhtml#s331a)'
- en: 'User Request: Users describe their intended result.'
  id: totrans-574
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户请求：用户描述他们的预期结果。
- en: 'Workflow Selection: Selection of a standard workflow based on the user request.
    Examples are:'
  id: totrans-575
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流选择：根据用户请求选择标准工作流程。例如：
- en: One-step Search with Generative Task
  id: totrans-576
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有生成任务的一步搜索
- en: 'Semantic Search: Extracts relevant knowledge from the Knowledge Base.'
  id: totrans-577
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 语义搜索：从知识库中提取相关知识。
- en: 'Generative Task: Using a GPT model for content creation, summarization, or
    answering queries.'
  id: totrans-578
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生成任务：使用GPT模型进行内容创建、摘要或回答查询。
- en: 'Two-step Search with Generative Task:'
  id: totrans-579
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 具有生成任务的两步搜索：
- en: 'Query Formulation: Uses a GPT model to produce API calls or search queries
    when specific data is demanded.'
  id: totrans-580
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查询制定：在需要特定数据时使用GPT模型生成API调用或搜索查询。
- en: 'Information Retrieval: Acquires the necessary data from external sources.'
  id: totrans-581
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信息检索：从外部来源获取必要的数据。
- en: 'Knowledge Representation: Incorporates this data into the Knowledge Base.'
  id: totrans-582
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 知识表示：将这些数据纳入知识库。
- en: 'Semantic Search: Extracts relevant knowledge from the Knowledge Base.'
  id: totrans-583
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 语义搜索：从知识库中提取相关知识。
- en: 'Generative Task: Using a GPT model for content creation, summarization, or
    answering queries.'
  id: totrans-584
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生成任务：使用GPT模型进行内容创建、摘要或回答查询。
- en: One-step Backend Function Execution (similar to B1 pattern)
  id: totrans-585
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一步后端功能执行（类似于B1模式）
- en: 'Information Collection from User (optional): Collects supplementary data from
    the user if required.'
  id: totrans-586
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从用户收集信息（可选）：根据需要从用户那里收集补充数据。
- en: 'Backend Function Call Generation: Creates executable application-level function
    or calls.'
  id: totrans-587
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 后端功能调用生成：创建可执行的应用级功能或调用。
- en: 'Backend Function Call Execution: Executes previously generated application
    function calls.'
  id: totrans-588
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 后端功能调用执行：执行先前生成的应用程序功能调用。
- en: 'Backend Function Results Translation: Transforms the results from system-level
    functions into user-friendly outputs or formats.'
  id: totrans-589
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 后端功能结果翻译：将系统级功能的结果转换为用户友好的输出或格式。
- en: Multi-step Backend Function Execution
  id: totrans-590
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多步后端功能执行
- en: 'Repetition of the three steps of the previous workflow for each backend system:
    Sequentially performs the steps of function generation, execution, and result
    translation for multiple backend processes.'
  id: totrans-591
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对每个后端系统重复上一个工作流程的三个步骤：依次执行多个后端进程的功能生成、执行和结果转换步骤。
- en: 'Potentially user interactions between backend function calls: Engages users
    between stages to gather more information or refine subsequent steps.'
  id: totrans-592
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 后端功能调用之间可能的用户交互：在各个阶段与用户互动，收集更多信息或完善后续步骤。
- en: Interactive Content Creation
  id: totrans-593
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交互式内容创建
- en: 'Information Collection from User: Gathers necessary data from the user for
    the content creation process.'
  id: totrans-594
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从用户收集信息：从用户那里收集内容创建过程所需的数据。
- en: 'Content Creation based on the collected information: Develops tailored content
    based on the user-provided data.'
  id: totrans-595
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于收集的信息创建内容：根据用户提供的数据开发定制内容。
- en: 'Workflow Execution: Commences and oversees the complete sequence of steps chosen
    during the previous “Workflow Selection” step.'
  id: totrans-596
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流执行：开始并监督在前一个“工作流选择”步骤中选择的完整步骤序列。
- en: 'Output Evaluation: Utilizes the GPT-Critic to inspect the output’s accuracy
    and relevance, ensuring it matches the established criteria or user request.'
  id: totrans-597
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输出评估：利用GPT-Critic检查输出的准确性和相关性，确保其符合已建立的标准或用户请求。
- en: 'Results Presentation: Displays the outcomes of the workflow to the users in
    a comprehensible and user-friendly manner.'
  id: totrans-598
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 结果呈现：以易于理解和用户友好的方式向用户显示工作流的结果。
- en: '[Workflow example with program-based orchestration](toc.xhtml#s332a)'
  id: totrans-599
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[基于程序的编排的工作流示例](toc.xhtml#s332a)'
- en: Imagine a digital platform designed for enterprises to locate and procure specialized
    raw materials that are rare, environmentally sustainable, or have other unique
    attributes.
  id: totrans-600
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一个为企业设计的数字平台，用于定位和采购稀有、环保或具有其他独特属性的专业原材料。
- en: A manufacturing company is looking to source a sustainable type of rubber that’s
    both durable and has a minimal environmental impact for a new line of eco-friendly
    footwear.
  id: totrans-601
  prefs: []
  type: TYPE_NORMAL
  zh: 一家制造公司正在寻找一种可持续的橡胶，既耐用又对环境影响最小，用于新的系列环保鞋类产品。
- en: 'Here is an example workflow matching the pattern workflow structure:'
  id: totrans-602
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一个匹配模式工作流程结构的示例工作流程：
- en: 'User Request: The procurement manager of the manufacturer. logs into the digital
    platform and specifies their need: sustainable, durable rubber, preferably with
    certifications like Fair Trade or Rainforest Alliance.'
  id: totrans-603
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户请求：制造商的采购经理登录数字平台并指定他们的需求：可持续、耐用的橡胶，最好具有公平贸易或雨林联盟等认证。
- en: 'Workflow Selection:'
  id: totrans-604
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流程选择：
- en: Considering the specific requirements of the manager, the system selects the
    Two-step Search with Generative Task workflow.
  id: totrans-605
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 考虑经理的具体要求，系统选择了具有生成任务工作流程的两步搜索。
- en: 'Query Formulation: Using the manager’s input, the system formulates targeted
    search queries like “sustainable durable rubber suppliers with certifications”.'
  id: totrans-606
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查询制定：使用经理的输入，系统制定针对性的搜索查询，如“具有认证的可持续耐用橡胶供应商”。
- en: 'Information Retrieval: The system leverages web crawlers to navigate industry
    databases, supplier directories, forums, and relevant sustainability-focused websites
    to identify potential suppliers.'
  id: totrans-607
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信息检索：系统利用网络爬虫浏览行业数据库、供应商目录、论坛和相关的可持续发展网站，以确定潜在供应商。
- en: 'Knowledge Representation: Extracted information, such as supplier profiles,
    their certifications, client reviews, and material specifications, are structured
    for easier analysis.'
  id: totrans-608
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 知识表示：提取的信息，如供应商档案、他们的认证、客户评价和材料规格，被结构化以便更容易分析。
- en: 'Semantic Search: The system assesses the organized data, prioritizing suppliers
    that align closely with the manufacturer’s criteria.'
  id: totrans-609
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 语义搜索：系统评估组织好的数据，优先考虑与制造商标准密切符合的供应商。
- en: 'Generative Task: If an ideal supplier isn’t identified, the system uses a GPT
    model to draft inquiries or RfPs (Request for Proposals) to be sent out to promising
    suppliers or industry contacts.'
  id: totrans-610
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生成任务：如果没有找到理想的供应商，系统将使用GPT模型起草询问或RFP（提案请求）发送给有前途的供应商或行业联系人。
- en: 'Workflow Execution:'
  id: totrans-611
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流程执行：
- en: The program-based agent governs the sequence of operations, ensuring that relevant
    and accurate supplier information is sourced from the web.
  id: totrans-612
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于程序的代理管理操作顺序，确保从网络中获取相关和准确的供应商信息。
- en: 'Output Evaluation:'
  id: totrans-613
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输出评估：
- en: The GPT-Critic reviews the shortlist of suppliers and the RFPs to confirm they
    match the manufacturer’s specifications.
  id: totrans-614
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GPT评论员审查供应商的入围名单和RFP，以确认它们符合制造商的规格。
- en: Inconsistencies, if found, might initiate a new iteration of the “Information
    Retrieval” step or a revision of the search criteria.
  id: totrans-615
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果发现不一致，可能会启动“信息检索”步骤的新迭代，或者修订搜索标准。
- en: 'Results Presentation:'
  id: totrans-616
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 结果呈现：
- en: The buyer receives a curated list of potential suppliers with all relevant details
    like certifications, past client reviews, and contact information.
  id: totrans-617
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 买方收到了一份精心筛选的潜在供应商名单，包括所有相关细节，如认证、过往客户评价和联系信息。
- en: The generated RFPs are made available, ready to be sent out to the prospective
    suppliers for a more detailed proposal.
  id: totrans-618
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 生成的RFP可用，准备好发送给潜在供应商以获得更详细的提案。
- en: The buyer can choose to engage with a supplier directly, request samples, or
    send out RFPs for competitive bids.
  id: totrans-619
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 买方可以选择直接与供应商联系，请求样品，或者发送RFP以进行竞争性投标。
- en: '[Pattern Workflow with prompt-based orchestration agent](toc.xhtml#s333a)'
  id: totrans-620
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[具有基于提示的编排代理的模式工作流程](toc.xhtml#s333a)'
- en: 'User Request: Users describe their intended result.'
  id: totrans-621
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户请求：用户描述他们的预期结果。
- en: 'Workflow Prompt Pattern Selection: Selection of a workflow prompt pattern based
    on the user request. An example of a respective pattern is given in [chapter 6](c06.xhtml)
    in the section ‘Adaptive Business Process Management.’'
  id: totrans-622
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流程提示模式选择：根据用户请求选择工作流程提示模式。相应模式的示例在[第6章](c06.xhtml)的“自适应业务流程管理”部分中给出。
- en: 'Workflow Prompt Execution: Executing the workflow by using a GPT model as workflow
    engine. It would generate requests for API function calls (like in the B1 pattern)
    and user input (like in the A3 pattern), when required by the workflow. The orchestration
    agent would handle these requests and feed the results back into a GPT model to
    continue the workflow. The workflow terminates when a specific stop condition
    in the prompt is achieved, or the user stops it.'
  id: totrans-623
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流程提示执行：通过使用GPT模型作为工作流引擎执行工作流程。当工作流程需要时，它会生成对API函数调用的请求（如B1模式中）和用户输入（如A3模式中）。编排代理将处理这些请求，并将结果反馀GPT模型以继续工作流程。工作流程在达到特定停止条件或用户停止时终止。
- en: 'Output Evaluation: The GPT Critic examines the workflow’s output to ensure
    it meets stipulated criteria.'
  id: totrans-624
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输出评估：GPT评论员检查工作流程的输出，以确保符合规定的标准。
- en: 'Results Presentation: Once the workflow is finished, the results are showcased
    to users in an easily interpretable format.'
  id: totrans-625
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 结果呈现：一旦工作流程完成，结果以易于解释的格式展示给用户。
- en: '[Workflow example with prompt-based orchestration](toc.xhtml#s334a)'
  id: totrans-626
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[具有基于提示的编排的工作流程示例](toc.xhtml#s334a)'
- en: 'Imagine an e-commerce giant where a customer’s recent purchase of a smartwatch
    arrived with a damaged screen:'
  id: totrans-627
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一个电子商务巨头，一个客户最近购买的智能手表屏幕损坏了：
- en: 'User Request: The customer accesses the complaint section and mentions: “I
    received my smartwatch order, but the screen is cracked. I’d like a replacement
    or refund. Order number: 567890.”'
  id: totrans-628
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户请求：客户访问投诉部分并提到：“我收到了我的智能手表订单，但屏幕破裂了。我想要更换或退款。订单号：567890。”
- en: 'Workflow Prompt Selection: Given the nature of the complaint, the system selects
    the prompt for Adaptive Complaint Management Workflow:'
  id: totrans-629
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流程提示选择：根据投诉的性质，系统选择自适应投诉管理工作流的提示：
- en: 'Prompt Name: Adaptive Complaint Management Workflow'
  id: totrans-630
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提示名称：自适应投诉管理工作流程
- en: 'Expert Persona: “As an AI trained in Adaptive Complaint Management for e-commerce,
    you autonomously manage complaint resolution by determining and executing the
    appropriate workflow. Interaction with the user is solely for capturing essential
    details.”'
  id: totrans-631
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 专家角色：“作为一名接受过电子商务自适应投诉管理培训的人工智能，您可以通过确定和执行适当的工作流来自主管理投诉解决。与用户的互动仅用于捕获必要的细节。”
- en: 'Context: “You’re assisting an e-commerce giant receiving myriad complaints
    daily. Current complaint: [Captured Complaint Slot]. The complaint resolution
    steps include:'
  id: totrans-632
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 背景：“您正在协助一家每天收到大量投诉的电子商务巨头。当前的投诉是：[捕获的投诉槽]。投诉解决步骤包括：
- en: 'Complaint Clarification: Understand the specifics of the complaint through
    user interaction.'
  id: totrans-633
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 投诉澄清：通过与用户互动了解投诉的具体情况。
- en: 'Workflow Design: Autonomously plans tasks to address the complaint.'
  id: totrans-634
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流设计：自主规划任务以解决投诉。
- en: 'Workflow Initiation & Execution: Start and complete the complaint tasks, asking
    the user for required details.'
  id: totrans-635
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流启动和执行：开始并完成投诉任务，要求用户提供所需的详细信息。
- en: 'Workflow Monitoring: Ensure resolution progresses smoothly and gather user
    feedback.'
  id: totrans-636
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流监控：确保解决进展顺利并收集用户反馈。
- en: 'Workflow Adaptation: Modify tasks based on unexpected scenarios or deviations.”'
  id: totrans-637
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流适应：根据意外情况或偏差修改任务。”
- en: 'Goal: Effectively navigate each complaint resolution phase, leveraging skills
    such as communication, planning, and recommendation.'
  id: totrans-638
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 目标：有效地引导每个投诉解决阶段，利用沟通、规划和建议等技能。
- en: 'Control & Constraints: Always respect privacy, seek necessary user inputs,
    clarify decisions, and ensure outputs are actionable and follow best practices.'
  id: totrans-639
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 控制和约束：始终尊重隐私，寻求必要的用户输入，澄清决策，并确保输出是可操作的，并遵循最佳实践。
- en: 'Instruction: Start with ‘Complaint Clarification’: Kindly share more about
    the complaint [Captured Complaint Slot] for an effective resolution process.'
  id: totrans-640
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指示：从“投诉澄清”开始：请分享有关投诉的更多信息[捕获的投诉槽]，以进行有效的解决过程。
- en: 'Workflow Execution:'
  id: totrans-641
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流执行：
- en: 'Complaint Clarification: The system asks, “Can you provide more specifics about
    the damage? Was the packaging intact when it arrived?” The user responds, “The
    packaging seemed fine, but the watch inside was damaged. Looks like a quality
    control issue.”'
  id: totrans-642
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 投诉澄清：系统询问：“您能否提供有关损坏的更多具体信息？包装在送达时是否完好？”用户回答：“包装看起来没问题，但里面的手表损坏了。看起来是质量控制问题。”
- en: 'Workflow Design: Based on the user’s feedback, the system selects the Product
    Replacement and Quality Assurance Workflow.'
  id: totrans-643
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流设计：根据用户的反馈，系统选择产品更换和质量保证工作流。
- en: Verify the order.
  id: totrans-644
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 验证订单。
- en: Confirm the warranty.
  id: totrans-645
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确认保修。
- en: Initiate a return and replacement process.
  id: totrans-646
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 发起退货和更换流程。
- en: Ensure a quality check for the replacement product.
  id: totrans-647
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保更换产品的质量检查。
- en: 'Workflow Initiation & Execution: The four workflow steps are executed:'
  id: totrans-648
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流启动和执行：执行四个工作流步骤：
- en: 'Workflow Monitoring: As the replacement product is shipped, the user is notified
    about the progress.'
  id: totrans-649
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流监控：随着更换产品的发货，用户将收到关于进展的通知。
- en: 'Workflow Adaptation: If there’s a delay or issue, the system adjusts the workflow,
    notifying the user and offering solutions.'
  id: totrans-650
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作流适应：如果出现延迟或问题，系统将调整工作流，通知用户并提供解决方案。
- en: 'Output Evaluation: The GPT-Critic evaluates the entire resolution process,
    ensuring that the complaint was addressed effectively, and all workflow steps
    were adhered to.'
  id: totrans-651
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输出评估：GPT-Critic评估整个解决过程，确保投诉得到有效解决，并且所有工作流步骤都得到遵守。
- en: 'Results Presentation: The customer is presented with a timeline of actions
    taken, a tracking number for the replacement shipment, and an interface to give
    feedback post-reception. They’re also offered a discount code for the inconvenience
    in order to encourage future purchases.'
  id: totrans-652
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 结果呈现：客户将得到采取的行动时间表、更换货物的跟踪号码以及在收到货物后提供反馈的界面。他们还将获得一个折扣码，以补偿不便，鼓励未来的购买。
- en: '[Enterprise Integration](toc.xhtml#s335a)'
  id: totrans-653
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[企业集成](toc.xhtml#s335a)'
- en: This pattern offers advanced enterprise integration due to the Orchestration
    Agent’s capability to embed API-based functions in the entire workflow.
  id: totrans-654
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式由于编排代理的能力可以在整个工作流中嵌入基于API的功能，因此提供了先进的企业集成。
- en: '[Output Quality](toc.xhtml#s336a)'
  id: totrans-655
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[输出质量](toc.xhtml#s336a)'
- en: This pattern enhances output quality by systematically grounding prompts with
    context user input, knowledge, internal and external data, and prior GPT outputs.
    The potential inclusion of multiple users provides an added layer of human discernment,
    further refining the AI’s context-aware outputs. The GPT-Critic evaluates the
    quality of AI-generated content, and its feedback is managed by the Orchestration
    Agent to optimize output quality.
  id: totrans-656
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式通过系统地将提示与上下文用户输入、知识、内部和外部数据以及先前的GPT输出相结合，系统地提高了输出质量。多个用户的潜在参与提供了一个额外的人类判断层，进一步完善了人工智能的上下文感知输出。GPT-Critic评估人工智能生成内容的质量，其反馈由编排代理管理，以优化输出质量。
- en: '[Performance](toc.xhtml#s337a)'
  id: totrans-657
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[性能](toc.xhtml#s337a)'
- en: The computational performance of this pattern is intrinsically tied to the length
    of the workflow. However, for most use cases, short to medium-length workflows
    should suffice, balancing both efficiency and computational demands.
  id: totrans-658
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式的计算性能与工作流的长度密切相关。然而，对于大多数使用案例来说，长度较短到中等长度的工作流应该足够，平衡了效率和计算需求。
- en: '[Use Cases](toc.xhtml#s338a)'
  id: totrans-659
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[使用案例](toc.xhtml#s338a)'
- en: 'The dynamic capabilities and robust design of this pattern make it ideally
    suited for a variety of applications. At its core, it is designed to manage two
    primary kinds of workflows: static (scripted) and dynamic (adaptive).'
  id: totrans-660
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式的动态能力和健壮的设计使其非常适用于各种应用。在其核心，它旨在管理两种主要类型的工作流：静态（脚本化）和动态（自适应）。
- en: 'Static workflows are the bedrock of routine operations, characterized by their
    well-defined structure and predictable flow. Such workflows are typically automated
    and follow pre-set scripts:'
  id: totrans-661
  prefs: []
  type: TYPE_NORMAL
  zh: 静态工作流是日常运营的基础，其结构明确定义，流程可预测。这类工作流通常是自动化的，并遵循预设脚本：
- en: 'Complex Content Creation:'
  id: totrans-662
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 复杂内容创建：
- en: 'Reports: Synthesizing data points into comprehensive reports, inclusive of
    visual representations like charts and graphs.'
  id: totrans-663
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 报告：将数据点综合成全面的报告，包括图表等可视化呈现。
- en: 'Newsletters: Periodically curating content from updates or relevant news, maintaining
    a consistent layout.'
  id: totrans-664
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 新闻简报：定期整理更新或相关新闻的内容，保持一致的布局。
- en: 'Documentation: Generating structured documentation for various needs, ensuring
    clarity for the target audience.'
  id: totrans-665
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文档：为各种需求生成结构化文档，确保目标受众的清晰度。
- en: 'Information Collection:'
  id: totrans-666
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信息收集：
- en: 'Interviews: Utilizing templates and protocols to extract information from individuals
    or groups systematically.'
  id: totrans-667
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 采访：利用模板和协议系统地从个人或团体中提取信息。
- en: 'Interactive Reports: Gleaning and presenting data in interactive formats from
    enterprise-specific systems or databases, ensuring data integrity and accuracy.'
  id: totrans-668
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交互式报告：从企业特定系统或数据库中获取并呈现交互格式的数据，确保数据的完整性和准确性。
- en: 'Websites: Automated search, reading, and summarization of content from relevant
    websites.'
  id: totrans-669
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网站：自动搜索、阅读和总结相关网站内容。
- en: 'Standard Workflows:'
  id: totrans-670
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标准工作流程：
- en: 'Requisitioning: Handling and automating standard requisition processes, from
    request to approval.'
  id: totrans-671
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 申请：处理和自动化标准申请流程，从请求到批准。
- en: 'Approval Cycles: Streamlining approval requests, reminders, and documentation.'
  id: totrans-672
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 批准周期：简化批准请求、提醒和文档工作。
- en: 'Inventory Management: Automating tasks related to stock checks, reorder levels,
    and inventory valuation.'
  id: totrans-673
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 库存管理：自动化与库存盘点、重新订货水平和库存估值相关的任务。
- en: 'While this pattern effortlessly manages predictable operations, it also showcases
    its adeptness in embracing more intricate, and adaptive challenges. Tasks that
    come with incomplete specifications, require on-the-fly adjustments, or are dictated
    by evolving user intents and unforeseen circumstances fall into this realm. Such
    dynamic workflows demand a blend of planning, execution, re-evaluation, and adaptation:'
  id: totrans-674
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这种模式轻松地管理可预测的操作，但它也展示了它在接纳更加复杂和适应性挑战方面的熟练。具有不完整规范、需要即时调整或由不断发展的用户意图和意外情况所决定的任务属于这个领域。这样的动态工作流程需要计划、执行、重新评估和适应的结合：
- en: 'Task-oriented Dialogues: Adapting to evolving user intents, these agents design,
    modify, and deploy dialogue plans, resulting in multifaceted interactions.'
  id: totrans-675
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任务导向对话：适应不断发展的用户意图，这些代理设计、修改和部署对话计划，产生多方面的互动。
- en: 'Comprehensive Research: Segmenting a broad research objective into sub-goals
    and conceptualizing and executing detailed strategies for each using diverse resources.'
  id: totrans-676
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 全面研究：将广泛的研究目标分割为子目标，并使用多种资源对每个子目标进行概念化和执行详细的策略。
- en: 'Exploratory Data Analysis: Agents develop an explorative strategy based on
    an insight target, iterating over diverse data sources and tools.'
  id: totrans-677
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探索性数据分析：代理根据洞察目标制定探索性策略，通过多种数据来源和工具进行迭代。
- en: 'Automated Troubleshooting: Upon understanding users’ issues, the system crafts
    a diagnostic plan, which may include querying enterprise-specific tools, providing
    guided solutions, or leveraging GPT for innovative remedies.'
  id: totrans-678
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动故障排除：在理解用户问题后，系统制定诊断计划，可能包括查询特定企业工具，提供引导解决方案，或利用GPT进行创新疗法。
- en: 'Personalized Learning Paths: Customizing educational trajectories according
    to students’ ambitions, meticulously choosing, sequencing, and recalibrating content
    based on their progression and feedback.'
  id: totrans-679
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 个性化学习路径：根据学生的抱负定制教育轨迹，精心选择、排序和校准内容，根据他们的进展和反馈。
- en: '[D3 Collaboration Agent](toc.xhtml#s339a)'
  id: totrans-680
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[D3协作代理](toc.xhtml#s339a)'
- en: The essence of this pattern revolves around the Collaboration Agent, serving
    as a dynamic conduit connecting users with a GPT model within an adaptive collaborative
    space. By leveraging the Collaboration Repository, this design ensures that GPT’s
    engagements are rooted in context and can be archived, revisited, or refined (see
    *[Figure 4.12](#fig4_12))*.
  id: totrans-681
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式的本质围绕着协作代理，作为连接用户与GPT模型的动态通道，在自适应协作空间内。通过利用协作存储库，这种设计确保了GPT的参与是基于上下文的，并且可以被归档，重新访问或完善（见*[图4.12](#fig4_12)*）。
- en: '![](images/Figure-4.12.jpg)'
  id: totrans-682
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-4.12.jpg)'
- en: '**[Figure 4.12](#fig4_12):** Collaboration agent'
  id: totrans-683
  prefs: []
  type: TYPE_NORMAL
  zh: '**[图4.12](#fig4_12)：** 协作代理'
- en: '[User Experience Layer](toc.xhtml#s340a)'
  id: totrans-684
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用户体验层](toc.xhtml#s340a)'
- en: Through a chatbot or web UI, users can actively join any active collaboration,
    contribute inputs, and collectively determine the trajectory and outcomes based
    on the evolving content.
  id: totrans-685
  prefs: []
  type: TYPE_NORMAL
  zh: 通过聊天机器人或Web UI，用户可以积极参与任何活跃的协作，贡献意见，并根据不断发展的内容共同确定轨迹和结果。
- en: '[Application Layer](toc.xhtml#s341a)'
  id: totrans-686
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[应用层](toc.xhtml#s341a)'
- en: 'It incorporates the following:'
  id: totrans-687
  prefs: []
  type: TYPE_NORMAL
  zh: 它包括以下内容：
- en: 'Enterprise Applications and Databases: These are tools and data sources used
    during collaboration.'
  id: totrans-688
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 企业应用和数据库：这些是在协作过程中使用的工具和数据来源。
- en: 'Collaboration Agent: This agent interacts with the Collaboration Repository
    to retrieve or archive master prompts[⁸](#ftn8a), collaboration histories, summaries,
    and results.'
  id: totrans-689
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 协作代理：该代理与协作存储库交互，以检索或归档主要提示[⁸](#ftn8a)，协作历史，摘要和结果。
- en: 'Collaboration Repository: A crucial storage that preserves master prompts,
    in-depth collaboration histories, concise collaboration summaries, and both intermediate
    and final results.'
  id: totrans-690
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 协作存储库：关键的存储空间，保存主要提示，深入的协作历史，简洁的协作摘要，以及中间和最终结果。
- en: '[AI Layer](toc.xhtml#s342a)'
  id: totrans-691
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[AI层](toc.xhtml#s342a)'
- en: 'This layer incorporates:'
  id: totrans-692
  prefs: []
  type: TYPE_NORMAL
  zh: 这一层包括：
- en: 'GPT as Response Generator: Entrusted with delivering responses that are contextually
    relevant.'
  id: totrans-693
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GPT作为响应生成器：负责提供与上下文相关的响应。
- en: 'Knowledge Base: Short-term and long-term memory like in the previous D2 pattern.'
  id: totrans-694
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 知识库：与之前的D2模式一样，具有短期和长期记忆。
- en: 'GPT-Critic: A second GPT model ensuring that the outputs of the first GPT model
    align with the desired quality standards.'
  id: totrans-695
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GPT-Critic：第二个GPT模型，确保第一个GPT模型的输出符合期望的质量标准。
- en: '[Pattern Workflow](toc.xhtml#s343a)'
  id: totrans-696
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流程](toc.xhtml#s343a)'
- en: A user opts to kickstart or partake in an ongoing collaboration.
  id: totrans-697
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户选择启动或参与一个持续的合作。
- en: If beginning a new collaboration, the Collaboration Agent fetches the master
    prompt corresponding to the chosen scenario from the Collaboration Repository.
  id: totrans-698
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果开始一个新的合作，合作代理会从合作存储库中获取与所选场景相对应的主提示。
- en: For ongoing collaborations, the most recent collaboration history sets the stage.
  id: totrans-699
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于持续的合作，最近的合作历史为舞台。
- en: Users consistently add prompts. After each user input, the Collaboration Agent
    appends both the user’s prompt and the resultant GPT output to the active collaboration
    history.
  id: totrans-700
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户不断添加提示。在每个用户输入之后，合作代理都会将用户的提示和GPT的输出结果附加到活动合作历史中。
- en: The GPT-Critic oversees and ensures the caliber of GPT’s responses.
  id: totrans-701
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GPT-Critic监督并确保GPT的回应质量。
- en: On concluding a collaboration, its summaries and results find a home within
    the Collaboration Repository.
  id: totrans-702
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在结束合作时，其摘要和结果将存档在合作存储库中。
- en: '[Pattern Workflow Example](toc.xhtml#s344a)'
  id: totrans-703
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流示例](toc.xhtml#s344a)'
- en: Imagine a car rental company that wants to evolve its vehicle maintenance strategy.
    Collaborating with multiple stakeholders (technicians, fleet managers, customer
    service reps, and even customers), they aim to gather insights, experiences, and
    suggestions in an ongoing discussion using the Collaboration Agent.
  id: totrans-704
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一家希望改进其车辆维护策略的汽车租赁公司。通过与多个利益相关者（技术人员、车队经理、客户服务代表，甚至客户）合作，他们旨在在使用合作代理进行持续讨论中收集见解、经验和建议。
- en: 'Your task is: Moderate a collaborative discussion about improving vehicle maintenance
    processes, taking into account diverse viewpoints, historical discussions, and
    suggestions.'
  id: totrans-705
  prefs: []
  type: TYPE_NORMAL
  zh: 你的任务是：主持一个关于改进车辆维护流程的合作讨论，考虑到不同的观点、历史讨论和建议。
- en: 'Here is an example workflow matching the pattern workflow:'
  id: totrans-706
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个与模式工作流匹配的示例工作流：
- en: 'Initiation: A fleet manager decides to start a collaborative discussion titled,
    “Enhancing our Vehicle Maintenance Strategy.”'
  id: totrans-707
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动：车队经理决定开始一个名为“改进我们的车辆维护策略”的合作讨论。
- en: 'Collaboration Kickstart:'
  id: totrans-708
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 合作启动：
- en: The Collaboration Agent retrieves a generic master prompt from the Collaboration
    Repository about car maintenance.
  id: totrans-709
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 合作代理从合作存储库中检索有关汽车维护的通用主提示。
- en: 'The prompt might read: “Discussion on best practices, challenges, and improvements
    for car maintenance at our company.”'
  id: totrans-710
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提示可能会是：“讨论我们公司汽车维护的最佳实践、挑战和改进。”
- en: 'Engagement in Ongoing Collaborations:'
  id: totrans-711
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 持续合作参与：
- en: As technicians, customer service representatives, and other stakeholders join,
    they can view the ongoing discussion and contribute.
  id: totrans-712
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当技术人员、客户服务代表和其他利益相关者加入时，他们可以查看正在进行的讨论并做出贡献。
- en: 'For instance, a technician may add: “The routine checks are often superficial.
    We need more in-depth diagnostics.”'
  id: totrans-713
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 例如，一个技术人员可能会添加：“例行检查通常只是肤浅的。我们需要更深入的诊断。”
- en: 'Immediately, a GPT model, drawing from the Knowledge Base, might suggest: “Consider
    implementing a detailed bi-monthly diagnostic paired with routine checks. This
    can identify underlying issues.”'
  id: totrans-714
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 立即，一个从知识库中获取信息的GPT模型可能会建议：“考虑实施详细的每两个月一次的诊断和例行检查。这可以发现潜在问题。”
- en: Each of these prompts and responses are appended to the active collaboration
    history by the Collaboration Agent.
  id: totrans-715
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 合作代理将每个提示和回应附加到活动合作历史中。
- en: 'User Contribution:'
  id: totrans-716
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户贡献：
- en: 'A customer service representative could chime in: “Customers often report air
    conditioning issues in the summer. Maybe we can have preemptive checks before
    peak season?”'
  id: totrans-717
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个客户服务代表可能会插话：“客户经常报告夏季空调问题。也许我们可以在旺季之前进行预防性检查？”
- en: 'A GPT model might respond: “An annual AC service before summer can help. Additionally,
    consider educating customers on optimal AC usage during the initial rental walkthrough.”'
  id: totrans-718
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个GPT模型可能会回应：“夏季前的年度空调服务有助于。此外，考虑在初始租车时教育客户如何最佳使用空调。”
- en: 'Quality Oversight by GPT-Critic:'
  id: totrans-719
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GPT-Critic对质量进行监督：
- en: 'Suppose a customer contributes: “I once rented a car that broke down midway.
    What’s the strategy for emergency situations?”'
  id: totrans-720
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 假设客户提出：“我曾经租过一辆在半路抛锚的车。紧急情况下的策略是什么？”
- en: If a GPT model initially provides a vague answer like, “Cars should be maintained,”
    the GPT-Critic might flag this as low-quality, prompting the model to produce
    a more comprehensive response.
  id: totrans-721
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果GPT模型最初提供了一个模糊的答案，比如“汽车应该保养”，GPT-Critic可能会标记这个答案质量低，促使模型产生更全面的回应。
- en: 'Collaboration Conclusion & Archival:'
  id: totrans-722
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 合作结束和存档：
- en: After a week, the fleet manager decides to conclude the discussion.
  id: totrans-723
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个星期后，车队经理决定结束讨论。
- en: 'The Collaboration Agent automatically generates a summary: “Key Takeaways from
    the Discussion on Enhancing our Vehicle Maintenance Strategy.”'
  id: totrans-724
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 合作代理会自动生成一个摘要：“讨论改进我们的车辆维护策略的要点。”
- en: It includes points like implementing bi-monthly diagnostics, annual AC services
    before summer, and possibly a strategy for emergency breakdowns.
  id: totrans-725
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它包括实施每两个月一次的诊断、夏季前的年度空调服务，以及可能针对紧急故障的策略。
- en: This summary and the entire discussion are archived in the Collaboration Repository
    for future reference.
  id: totrans-726
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 这个摘要和整个讨论都被存档在合作存储库中以供将来参考。
- en: '[Enterprise Integration](toc.xhtml#s345a)'
  id: totrans-727
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[企业集成](toc.xhtml#s345a)'
- en: This pattern offers the same level of enterprise integration as the **Grounded
    Conversation** pattern (A2).
  id: totrans-728
  prefs: []
  type: TYPE_NORMAL
  zh: 这个模式提供了与**基础对话**模式（A2）相同水平的企业集成。
- en: '[Output Quality](toc.xhtml#s346a)'
  id: totrans-729
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[输出质量](toc.xhtml#s346a)'
- en: Benefiting from the Collaboration Repository, the GPT model operates within
    a rich context, which has inputs from multiple users with different perspectives
    and the respective GPT outputs. The role of the GPT-Critic also helps in refining
    the quality of outputs through checks and validations.
  id: totrans-730
  prefs: []
  type: TYPE_NORMAL
  zh: 通过合作存储库的帮助，GPT模型在一个丰富的背景下运作，这个背景包括来自多个具有不同观点的用户和相应GPT输出的输入。GPT-Critic的角色也有助于通过检查和验证来提高输出的质量。
- en: '[Performance](toc.xhtml#s347a)'
  id: totrans-731
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[性能](toc.xhtml#s347a)'
- en: The efficiency of this pattern is dependent on the depth and breadth of the
    collaborative content. Yet, the handling of tasks by the Collaboration Agent,
    leveraging the Collaboration Repository, ensures a fluid progression and uses
    compute resources only after new collaborative input was received.
  id: totrans-732
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式的效率取决于协作内容的深度和广度。然而，通过协作代理处理任务，利用协作存储库，确保流畅的进展，并且仅在接收到新的协作输入后使用计算资源。
- en: '[Use Cases](toc.xhtml#s348a)'
  id: totrans-733
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[使用案例](toc.xhtml#s348a)'
- en: 'Ideally tailored for complex collaborative endeavors across varied contexts,
    prominent applications encompass:'
  id: totrans-734
  prefs: []
  type: TYPE_NORMAL
  zh: 理想情况下，这种模式适用于跨不同背景的复杂协作努力，主要应用包括：
- en: 'Sequential Human-centric Workflows: In product development, this involves coordinating
    teams from ideation to production. The collaboration agent ensures alignment at
    each phase based on prior inputs.'
  id: totrans-735
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 顺序人本工作流程：在产品开发中，这涉及协调团队从构思到生产。协作代理根据先前的输入确保每个阶段的一致性。
- en: 'Projects: In event planning, the agent helps establish timelines, delegate
    tasks, and collect logistical inputs. It suggests refinements based on ongoing
    updates.'
  id: totrans-736
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 项目：在活动规划中，代理帮助建立时间表，分配任务，并收集后勤输入。它根据持续更新提出改进建议。
- en: 'Sales Engagements: For market entry strategies, the agent consolidates market
    research, competitor analysis, and client profiling.'
  id: totrans-737
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 销售参与：对于市场进入战略，代理整合市场研究、竞争对手分析和客户画像。
- en: 'Vendor Evaluations: When sourcing suppliers, the agent stores vendor profiles
    and past interactions. Evaluators’ criteria, like cost or delivery timelines,
    are matched against stored data for informed decisions.'
  id: totrans-738
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 供应商评估：在寻找供应商时，代理存储供应商档案和过去的互动。评估者的标准，如成本或交付时间表，将与存储的数据进行匹配，以做出明智的决策。
- en: 'Innovation Frameworks: In tech innovation, stakeholders brainstorm on the platform.
    The agent provides contextual feedback, pulling from past sessions or external
    trends, assisting in crafting a coherent and creative strategy.'
  id: totrans-739
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创新框架：在技术创新中，利益相关者在平台上进行头脑风暴。代理提供情境反馈，从过去的会话或外部趋势中获取，协助制定一致和创造性的策略。
- en: '[D4 Multi-Agent Cooperation](toc.xhtml#s349a)'
  id: totrans-740
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[D4多代理合作](toc.xhtml#s349a)'
- en: The essence of this pattern is rooted in the notion of distributed intelligence.
    By decentralizing tasks among a group of specialized agents [5], this pattern
    creates a more streamlined and adaptive way to cater to complex user goals. This
    dynamic ensemble of agents collaboratively harnesses various GPT models, ensuring
    each task is addressed by the most suitable expert (see *[Figure 4.13](#fig4_13)*).
  id: totrans-741
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式的本质根植于分布式智能的概念。通过将任务分散在一组专门的代理人之间[5]，这种模式创造了一种更流畅和适应性更强的方式来满足复杂的用户目标。这个动态的代理人合奏团共同利用各种GPT模型，确保每个任务都由最合适的专家来处理（见*[图4.13](#fig4_13)*）。
- en: '![](images/Figure-4.13.jpg)'
  id: totrans-742
  prefs: []
  type: TYPE_IMG
  zh: '![](images/Figure-4.13.jpg)'
- en: '**[Figure 4.13](#fig4_13):** Multi-agent cooperation'
  id: totrans-743
  prefs: []
  type: TYPE_NORMAL
  zh: '**[图4.13](#fig4_13)：** 多代理合作'
- en: '[User Experience Layer](toc.xhtml#s350a)'
  id: totrans-744
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[用户体验层](toc.xhtml#s350a)'
- en: Mirroring the two previous patterns, this layer offers various interaction possibilities.
    Through chatbot interfaces or web UIs, users can articulate intricate goals, which
    then become the responsibility of a cooperative team of agents to accomplish and
    may require further interactions with multiple users.
  id: totrans-745
  prefs: []
  type: TYPE_NORMAL
  zh: 与之前两种模式相似，这一层提供了各种互动可能性。通过聊天机器人界面或Web用户界面，用户可以表达复杂的目标，然后由一组合作的代理人来完成，并可能需要与多个用户进一步互动。
- en: '[Application Layer](toc.xhtml#s351a)'
  id: totrans-746
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[应用层](toc.xhtml#s351a)'
- en: 'The components present here include::'
  id: totrans-747
  prefs: []
  type: TYPE_NORMAL
  zh: 这里包括的组件有：
- en: 'Agent Team: A cluster of specialized agents tasked with executing distinct
    roles in achieving user goals. The team is composed of:'
  id: totrans-748
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 代理团队：一群专门的代理人，负责执行不同的角色，以实现用户目标。团队由以下成员组成：
- en: 'Planning Agent: Decomposes user-specified goals into actionable tasks and identifies
    the ideal expert agent profile suited for each task.'
  id: totrans-749
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规划代理：将用户指定的目标分解为可行动的任务，并确定适合每个任务的理想专家代理配置文件。
- en: 'Orchestration Agent: Initiates the expert agent creation process based on the
    agent profile, starts the task sequence, activates the first expert agent, and
    progressively moves through the tasks. This agent also supervises communication
    between expert agents, ensuring seamless interactions with users, knowledge bases,
    and other enterprise tools.'
  id: totrans-750
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编排代理：根据代理配置文件启动专家代理创建过程，启动任务序列，激活第一个专家代理，并逐步完成任务。该代理还监督专家代理之间的通信，确保与用户、知识库和其他企业工具的无缝互动。
- en: 'Expert Agents: Crafted dynamically, these agents embody the precise skills
    required to execute specific tasks in the process to achieve the overall user
    goal.'
  id: totrans-751
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 专家代理：动态创建，这些代理具备执行特定任务所需的精确技能，以实现整体用户目标。
- en: 'Enterprise Applications and Databases: These are the same as in the D2 pattern.'
  id: totrans-752
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 企业应用和数据库：这与D2模式中的情况相同。
- en: 'Information Retrieval Tools: These are also the same as in the D2 pattern.'
  id: totrans-753
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信息检索工具：这与D2模式中的情况相同。
- en: Also similar to the D2 pattern, it’s worth noting that there are two distinct
    types of Agent Teams within this architecture. While program-based agent teams
    are illustrated in the diagram, there exists an alternative construct - prompt-based
    agent teams. The intricacies and application of prompt-based agent teams will
    be explored in *[Chapter 5, Advanced GPT Prompt Engineering Techniques](c05.xhtml)*,
    and in [appendix 1](appa.xhtml) in the respective sections dedicated to multi-agent
    prompts.
  id: totrans-754
  prefs: []
  type: TYPE_NORMAL
  zh: 与D2模式类似，值得注意的是在这种架构中有两种不同类型的代理团队。虽然图表中展示了基于程序的代理团队，但还存在另一种构造 - 基于提示的代理团队。基于提示的代理团队的复杂性和应用将在《第5章，高级GPT提示工程技术》和专门讨论多代理提示的附录1中进行探讨。
- en: '[AI Layer](toc.xhtml#s352a)'
  id: totrans-755
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[AI层](toc.xhtml#s352a)'
- en: 'The following elements are integral to this layer:'
  id: totrans-756
  prefs: []
  type: TYPE_NORMAL
  zh: 以下元素对这一层至关重要：
- en: 'Knowledge Base: Akin to D2 storing both transient and persistent information.'
  id: totrans-757
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 知识库：类似于D2，存储着瞬时和持久的信息。
- en: 'GPT model instantiated in different roles:'
  id: totrans-758
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在不同角色中实例化的GPT模型：
- en: 'GPT as Planner: Aligns with the Planning Agent, translating user goals into
    a series of tasks.'
  id: totrans-759
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GPT作为规划者：与规划代理对齐，将用户目标转化为一系列任务。
- en: 'GPT as Orchestrator: Powers the Orchestration Agent, managing the sequencing
    and delegation of tasks among expert agents.'
  id: totrans-760
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GPT作为指挥者：驱动着编排代理，管理专家代理之间任务的排序和委派。
- en: 'GPT as Expert: Empowers each Expert Agent, offering domain-specific knowledge
    and expertise to execute its designated task.'
  id: totrans-761
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GPT作为专家：为每个专家代理提供领域特定的知识和专业知识，以执行其指定的任务。
- en: '[Pattern Workflow](toc.xhtml#s353a)'
  id: totrans-762
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[模式工作流](toc.xhtml#s353a)'
- en: Users articulate a detailed goal they wish to attain.
  id: totrans-763
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用户表达了他们希望实现的详细目标。
- en: The Planning Agent processes this goal, translating it into a sequence of executable
    tasks and identifying the ideal expert agent profile for each.
  id: totrans-764
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 规划代理处理这个目标，将其转化为一系列可执行任务，并为每个任务确定理想的专家代理配置文件。
- en: For each task, the Orchestration Agent creates the respective Expert Agent.
  id: totrans-765
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于每个任务，编排代理创建相应的专家代理。
- en: With the tasks sequenced, the Orchestration Agent activates the first Expert
    Agent and delegates the corresponding task.
  id: totrans-766
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 任务排序完成后，编排代理激活第一个专家代理并委派相应的任务。
- en: The Expert Agent executes the task assigned to it.
  id: totrans-767
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 专家代理执行分配给它的任务。
- en: Upon task completion, the Orchestration Agent moves to the subsequent task,
    activating the next Expert Agent in line.
  id: totrans-768
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 任务完成后，编排代理移动到下一个任务，激活下一个排队的专家代理。
- en: This sequence is diligently followed until all tasks are addressed.
  id: totrans-769
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 这个顺序会被认真遵循，直到所有任务得到解决。
- en: Throughout this process, the Orchestration Agent ensures smooth communication
    among Expert Agents, as well as between them and other involved entities, such
    as users, knowledge bases or databases.
  id: totrans-770
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在整个过程中，编排代理确保专家代理之间以及它们与其他涉及实体（如用户、知识库或数据库）之间的顺畅沟通。
- en: '[Enterprise Integration](toc.xhtml#s354a)'
  id: totrans-771
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[企业集成](toc.xhtml#s354a)'
- en: This pattern offers the same advanced enterprise integration as in the D2 pattern
    as all agents have API-based function access to execute their tasks.
  id: totrans-772
  prefs: []
  type: TYPE_NORMAL
  zh: 这种模式提供了与D2模式中一样的高级企业集成，因为所有代理都可以通过API访问功能来执行他们的任务。
- en: '[Output Quality](toc.xhtml#s355a)'
  id: totrans-773
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[输出质量](toc.xhtml#s355a)'
- en: The output quality in D4 closely mirrors that of D2 when the final expert agent
    evaluates the performance of all preceding expert agents. While there’s potential
    to enhance the output quality by implementing quality assessments for each agent
    involved (including the planning, orchestration, and expert agents), it’s crucial
    to note that this enhancement might come at the cost of diminished performance.
  id: totrans-774
  prefs: []
  type: TYPE_NORMAL
  zh: 当最终专家代理评估所有先前专家代理的性能时，D4的输出质量与D2的输出质量非常相似。虽然通过为每个涉及的代理（包括规划、编排和专家代理）实施质量评估有潜力提高输出质量，但必须注意，这种增强可能会以性能下降为代价。
- en: '[Performance](toc.xhtml#s356a)'
  id: totrans-775
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[性能](toc.xhtml#s356a)'
- en: Performance is significantly influenced by the number of agents involved and
    the extent of interactions they maintain among themselves and with users and enterprise
    applications. As the number of agents increases, or as interactions become more
    frequent and complex, there can be a corresponding impact on the system’s responsiveness
    and efficiency.
  id: totrans-776
  prefs: []
  type: TYPE_NORMAL
  zh: 性能受到参与的代理数量以及他们之间和用户和企业应用程序之间的互动程度的显着影响。随着代理数量的增加，或者互动变得更频繁和复杂，系统的响应速度和效率可能会相应受到影响。
- en: '[Use Cases](toc.xhtml#s357a)'
  id: totrans-777
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[使用案例](toc.xhtml#s357a)'
- en: 'Building on the foundational capabilities of the D2 pattern and enhancing them
    with the sophistication of multi-agent cooperation, this D4 pattern is adeptly
    equipped to handle a diverse range of applications, as demonstrated in the following
    use cases:'
  id: totrans-778
  prefs: []
  type: TYPE_NORMAL
  zh: 在D2模式的基础能力上构建，并通过多代理合作的复杂性加以增强，这种D4模式能够熟练处理各种应用，如以下使用案例所示：
- en: 'Comprehensive Research:'
  id: totrans-779
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 全面的研究：
- en: 'Planning Agent: Understands the overarching research goal and segments it into
    targeted research areas or questions.'
  id: totrans-780
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规划代理：理解总体研究目标，并将其分成有针对性的研究领域或问题。
- en: 'Orchestration Agent: Coordinates between expert agents, assigning them specific
    research domains or tasks and ensuring seamless integration of their findings.'
  id: totrans-781
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编排代理：在专家代理之间协调，为它们分配特定的研究领域或任务，并确保无缝整合它们的发现。
- en: 'Expert Agents: Delve into their allocated domains, mining data, referencing
    scholarly articles, and cross-referencing findings. Each might specialize in various
    research methodologies or sources.'
  id: totrans-782
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 专家代理：深入其分配的领域，挖掘数据，参考学术文章，并交叉参考研究结果。每个代理可能专门研究各种研究方法或来源。
- en: 'Exploratory Data Analysis:'
  id: totrans-783
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探索性数据分析：
- en: 'Planning Agent: Defines the objectives of the data exploration based on desired
    insights and outcomes.'
  id: totrans-784
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规划代理：根据期望的见解和结果定义数据探索的目标。
- en: 'Orchestration Agent: Organizes the flow of data, ensuring it moves between
    the expert agents in an orderly manner and integrates their analyses.'
  id: totrans-785
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编排代理：组织数据流，确保它以有序的方式在专家代理之间移动并整合他们的分析。
- en: 'Expert Agents: Each agent could focus on specific datasets or analytical techniques.
    For example, one agent might handle statistical analyses, while another focuses
    on visualization or predictive modeling.'
  id: totrans-786
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 专家代理：每个代理可以专注于特定的数据集或分析技术。例如，一个代理可能处理统计分析，而另一个专注于可视化或预测建模。
- en: 'Automated Troubleshooting:'
  id: totrans-787
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自动故障排除：
- en: 'Planning Agent: Recognizes the reported problem and defines the diagnostic
    steps.'
  id: totrans-788
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规划代理：识别报告的问题并定义诊断步骤。
- en: 'Orchestration Agent: Manages the troubleshooting process, ensuring each step
    is executed, gathering required data, and providing feedback.'
  id: totrans-789
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编排代理：管理故障排除过程，确保每个步骤都被执行，收集所需数据，并提供反馈。
- en: 'Expert Agents: Specialize in different aspects of the problem. One might handle
    software-related issues, another hardware diagnostics, and another could focus
    on user experience or interface issues.'
  id: totrans-790
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 专家代理：专门处理问题的不同方面。一个可能处理与软件相关的问题，另一个可能是硬件诊断，另一个可能专注于用户体验或界面问题。
- en: 'Personalized Learning Paths:'
  id: totrans-791
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 个性化学习路径：
- en: 'Planning Agent: Assesses the learner’s current knowledge level, preferences,
    and long-term educational goals.'
  id: totrans-792
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规划代理：评估学习者当前的知识水平、偏好和长期教育目标。
- en: 'Orchestration Agent: Organizes the curriculum, schedules lessons, and ensures
    the flow of content aligns with the learner’s progression.'
  id: totrans-793
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编排代理：组织课程表，安排课程，并确保内容流与学习者的进展相一致。
- en: 'Expert Agents: Specialize in different subjects or learning methodologies.
    For instance, one could handle mathematics while another deals with literature.
    Others might focus on experiential learning, multimedia content, or hands-on projects.'
  id: totrans-794
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 专家代理：专注于不同学科或学习方法。例如，一个人可以处理数学，而另一个人处理文学。其他人可能专注于经验性学习、多媒体内容或实践项目。
- en: 'Software Development Assistance:'
  id: totrans-795
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 软件开发协助：
- en: 'Planning Agent: Interprets requirements and breaks them down into features
    or tasks.'
  id: totrans-796
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规划代理：解释需求并将其分解为特性或任务。
- en: 'Orchestration Agent: Manages dependencies and workflow.'
  id: totrans-797
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编排代理：管理依赖关系和工作流程。
- en: 'Expert Agents: Suggest code snippets, run tests, debug issues, and even help
    with deployment strategies.'
  id: totrans-798
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 专家代理：建议代码片段，运行测试，调试问题，甚至帮助部署策略。
- en: 'Consulting Tasks:'
  id: totrans-799
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 咨询任务：
- en: 'Planning Agent: Identifies client needs and breaks them down into actionable
    insights or tasks.'
  id: totrans-800
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规划代理：确定客户需求并将其分解为可操作的见解或任务。
- en: 'Orchestration Agent: Schedules meetings, manages timelines, and ensures deliverables
    are met.'
  id: totrans-801
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编排代理：安排会议，管理时间表，并确保交付物得到满足。
- en: 'Expert Agents: Dive into specifics, whether it’s market research, financial
    modeling, or strategic planning, leveraging the best tools and resources for each
    task.'
  id: totrans-802
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 专家代理：深入具体细节，无论是市场研究、财务建模还是战略规划，利用最佳工具和资源完成每项任务。
- en: '[Recommendations for Architecture Patterns](toc.xhtml#s358a)'
  id: totrans-803
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[架构模式建议](toc.xhtml#s358a)'
- en: 'Having delved deep into the nuances and intricacies of various GPT-driven architecture
    patterns, we are poised to present a set of curated recommendations. These insights,
    drawn from the comprehensive descriptions and assessments, are tailored to guide
    you in choosing the most fitting architecture for your specific needs:'
  id: totrans-804
  prefs: []
  type: TYPE_NORMAL
  zh: 通过深入研究各种GPT驱动的架构模式的细微差别和复杂性，我们准备提出一系列精心策划的建议。这些见解来自全面的描述和评估，旨在指导您选择最适合您特定需求的架构：
- en: '**Advanced Conversational Experience**: **Grounded Conversation** (A2) integrates
    with enterprise systems to add contextual depth. **Mixed-Initiative Conversation**
    (A3) fosters two-way interactivity, guiding user actions and queries, while **Quality-controlled
    Conversation** (A4) ensures that all responses are checked by a second GPT-model
    before showing them to the user.'
  id: totrans-805
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**高级对话体验**：**基于实际情况的对话**（A2）与企业系统集成，增加了上下文深度。**混合主动对话**（A3）促进双向互动，引导用户行动和查询，而**质量控制对话**（A4）确保所有回应在显示给用户之前都经过第二个GPT模型的检查。'
- en: '**Tool-driven Conversations**: **Tool-integrated Conversation** (B1) leverages
    GPT models to interface seamlessly with external applications and databases via
    APIs. **Chain-of-Thought-guided Conversation using Tools** (B2) enriches this
    with reasoning demonstrations. Meanwhile, **Advanced Tool-integrated Conversation**
    (B3) optimizes interactions with enterprise tools using dynamic task planning
    based on the changing dialog context.'
  id: totrans-806
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**工具驱动对话**：**集成工具对话**（B1）利用GPT模型通过API与外部应用程序和数据库无缝交互。**基于思维链引导的工具对话**（B2）通过推理演示丰富了这一点。与此同时，**高级工具集成对话**（B3）利用基于对话上下文的动态任务规划优化与企业工具的交互。'
- en: '**Specialized Conversations**: **Conversation using Fine-tuned Model** (C1)
    employs a refined language model to generate precise responses, ideal for complex
    domains and high-stakes environments. Meanwhile, **Conversation using Two Models**
    (C2) combines the specificity of a fine-tuned model with the breadth of a pre-trained
    GPT model, ensuring in-depth user interactions embedded into diverse conversational
    scenarios.'
  id: totrans-807
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**专业对话**：**使用精细调校模型的对话**（C1）采用精细调校的语言模型生成精确的回应，非常适合复杂领域和高风险环境。与此同时，**使用两个模型的对话**（C2）结合了精细调校模型的特定性和预训练的GPT模型的广度，确保深入用户互动嵌入到多样的对话场景中。'
- en: '**Advanced Automation**: For intricate automation needs, patterns **Batch Automation
    Agent** (D1), **Orchestration Agent** (D2), and **Multi-Agent Cooperation** (D4)
    stand out. D1 emphasizes batched data processing, while D2 leverages sequential
    orchestration for seamless interactions. D4 is especially suitable for environments
    that demand high degrees of dynamic adaptability and task-specific expertise.'
  id: totrans-808
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**高级自动化**：对于复杂的自动化需求，模式**批量自动化代理**（D1）、**编排代理**（D2）和**多代理协作**（D4）脱颖而出。D1强调批量数据处理，而D2利用顺序编排实现无缝互动。D4特别适用于需要高度动态适应性和任务特定专业知识的环境。'
- en: '**Assisted Collaboration**: For in-depth collaborative environments, patterns
    **Collaboration Agent** (D3) and **Multi-Agent Cooperation** (D4) shine distinctly.
    D3 excels in situations emphasizing continuous human-centric interactions, with
    GPT managing and enhancing the entire collaboration process. On the other hand,
    the D4 emphasizes scenarios where humans and task-specific agents work in unison,
    combining their strengths for optimal outcomes'
  id: totrans-809
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**协助协作**：对于深度协作环境，模式**协作代理**（D3）和**多代理协作**（D4）表现突出。D3在强调持续以人为中心互动的情况下表现出色，GPT管理和增强整个协作过程。另一方面，D4强调人类和任务特定代理共同工作的情景，结合各自的优势以获得最佳结果。'
- en: Our exploration into GPT-driven architecture patterns has unveiled a diverse
    array of solutions, each with its intrinsic merits. The right choice for your
    organization or project hinges on your specific demands and limitations. Use this
    analysis as a reference, guiding you to the architecture patterns that most align
    with your objectives.
  id: totrans-810
  prefs: []
  type: TYPE_NORMAL
  zh: 我们对GPT驱动的架构模式的探索揭示了多种解决方案，每种都有其固有的优点。您的组织或项目的正确选择取决于您的具体需求和限制。将此分析作为参考，指导您选择最符合您目标的架构模式。
- en: '[Conclusion](toc.xhtml#s359a)'
  id: totrans-811
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[结论](toc.xhtml#s359a)'
- en: As we navigate through the varied landscape of GPT-driven architecture patterns,
    it becomes evident how instrumental these systems can be in improving user interactions,
    enhancing collaborative scenarios, and advancing automation processes. By providing
    a diverse spectrum of patterns, each tailored to specific use cases and requirements,
    we can unlock the full potential of AI capabilities to develop future conversational
    systems and workflows that are efficient, adaptive, collaborative, and provide
    rich user experience.
  id: totrans-812
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们在GPT驱动的架构模式的多样景观中航行时，这些系统可以如何在改善用户互动、增强协作场景和推进自动化流程方面发挥重要作用变得明显。通过提供多样化的模式谱，每个模式都针对特定的用例和需求定制，我们可以释放AI能力的全部潜力，开发未来高效、适应性强、协作性强且提供丰富用户体验的对话系统和工作流程。
- en: As we have established the versatility and adaptability of GPT through various
    architectural patterns, it’s now time to delve deeper into the world of advanced
    GPT prompt engineering techniques. These techniques will offer a profound understanding
    on how to guide a GPT model for desired outcomes, especially in complex enterprise
    scenarios. Let us now turn our focus to these structured prompting methods to
    further unlock the extensive potential of GPT in advanced AI applications.
  id: totrans-813
  prefs: []
  type: TYPE_NORMAL
  zh: 既然我们已经确定了GPT在各种架构模式中的多功能性和适应性，现在是时候深入了解高级GPT提示工程技术的世界了。这些技术将深入了解如何引导GPT模型实现期望的结果，特别是在复杂的企业场景中。让我们现在将焦点转向这些结构化提示方法，以进一步释放GPT在高级AI应用中的广泛潜力。
- en: '[Key Points](toc.xhtml#s360a)'
  id: totrans-814
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '[关键点](toc.xhtml#s360a)'
- en: 'Versatility of GPT-Driven Architectures: Architecture patterns are versatile,
    tailoring the deployment of GPT models to various conversational contexts, tool
    integrations, and automation scenarios, proving them essential in enhancing user
    engagement and streamlining information retrieval.'
  id: totrans-815
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: GPT驱动架构的多功能性：架构模式是多功能的，可以将GPT模型部署到各种对话上下文、工具集成和自动化场景中，证明了它们在增强用户参与和简化信息检索方面的重要性。
- en: 'Layered System Approach: The use of a layered system approach in architecture
    patterns ensures decoupling and maintainability, leading to more sustainable system
    life-cycles.'
  id: totrans-816
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 分层系统方法：在架构模式中使用分层系统方法确保解耦和可维护性，从而导致更可持续的系统生命周期。
- en: 'Quality and Performance Trade-offs: Each pattern offers a unique blend of output
    quality, performance, and enterprise integration, presenting a spectrum of choices
    to meet varied requirements and use-cases.'
  id: totrans-817
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 质量和性能的权衡：每种模式都提供了独特的输出质量、性能和企业集成的混合，提供了一系列选择，以满足不同的需求和用例。
- en: 'Enterprise Integration: Seamless integration with enterprise applications and
    databases, as seen in Tool-integrated Conversation and other patterns, can significantly
    extend the capabilities of GPT-driven systems.'
  id: totrans-818
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 企业集成：与企业应用程序和数据库的无缝集成，如工具集成对话和其他模式中所见，可以显著扩展GPT驱动系统的能力。
- en: 'Precision and Breadth in Responses: Balancing specific knowledge with a broader
    understanding, some architectures demonstrate the importance of model fine-tuning
    in delivering accurate and comprehensive responses.'
  id: totrans-819
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 响应的精确性和广度：在特定知识与更广泛理解之间取得平衡，一些架构展示了模型微调在提供准确和全面响应方面的重要性。
- en: 'Advanced Automation: GPT-integrated architectures also demonstrate versatility
    in various automation scenarios: batch processing of content, information workflow
    orchestration, and project execution with multi-agent systems.'
  id: totrans-820
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 高级自动化：GPT集成架构还展示了在各种自动化场景中的多功能性：内容的批处理、信息工作流编排以及使用多代理系统执行项目。
- en: 'Collaborative Excellence: GPT models can be utilized to foster adaptive engagements
    in collaborative settings, enabling unique blends of human-centric interactions
    and multi-agent cooperation for jointly achieving complex goals.'
  id: totrans-821
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 协作卓越：GPT模型可以用于促进协作环境中的自适应互动，实现人类中心互动和多代理合作的独特融合，共同实现复杂目标。
- en: ____________________
  id: totrans-822
  prefs: []
  type: TYPE_NORMAL
  zh: ____________________
- en: '[¹](#ftn1) An agent is a software component designed to perform specific tasks,
    often autonomously and in interaction with other agents, systems, or users.'
  id: totrans-823
  prefs: []
  type: TYPE_NORMAL
  zh: '[¹](#ftn1) 代理是一种设计用于执行特定任务的软件组件，通常是自主地与其他代理、系统或用户进行交互。'
- en: '[²](#ftn2) Prompt Templates are largely prefilled Prompt Patterns, which are
    used to control GPT models and are introduced in *[Chapter 5, Advanced GPT Prompt
    Engineering Techniques](c05.xhtml)*. Templates can be selected based on rules,
    machine-learning models or via a selection prompt to a GPT model.'
  id: totrans-824
  prefs: []
  type: TYPE_NORMAL
  zh: '[²](#ftn2) 提示模板主要是预填的提示模式，用于控制GPT模型，并在*[第5章，高级GPT提示工程技术](c05.xhtml)*中介绍。模板可以基于规则、机器学习模型或通过选择提示向GPT模型选择。'
- en: '[³](#ftn3) A document database, also known as a document-oriented database
    or a document store, is a type of non-relational database that is designed to
    store, retrieve, and manage semi-structured information, for example text with
    metadata, typically in standardized formats like JSON (Java Script Object Notation)
    or XML (extensible markup language).'
  id: totrans-825
  prefs: []
  type: TYPE_NORMAL
  zh: '[³](#ftn3) 文档数据库，也称为文档导向数据库或文档存储，是一种设计用于存储、检索和管理半结构化信息的非关系型数据库，例如带有元数据的文本，通常以JSON（JavaScript对象表示）或XML（可扩展标记语言）等标准格式存储。'
- en: '[⁴](#ftn4) A graph database, commonly known as a graph-oriented database or
    graph engine, is also a form of non-relational database to capture, process, and
    administer data modeled as networks, emphasizing nodes, edges, and attributes,
    thereby enabling intricate interconnections and dependencies to be mapped, accessed,
    and analyzed.'
  id: totrans-826
  prefs: []
  type: TYPE_NORMAL
  zh: '[⁴](#ftn4) 图数据库，通常称为图导向数据库或图引擎，也是一种非关系型数据库，用于捕获、处理和管理以网络模型化的数据，强调节点、边和属性，从而能够映射、访问和分析复杂的相互连接和依赖关系。'
- en: '[⁵](#ftn5) A vector database is a specialized database system optimized for
    storing and querying high-dimensional vector data, often representing texts like
    documents, queries or interest profiles, and is commonly used in AI applications
    for tasks like similarity searches or recommendations.'
  id: totrans-827
  prefs: []
  type: TYPE_NORMAL
  zh: '[⁵](#ftn5) 向量数据库是一种专门优化用于存储和查询高维向量数据的数据库系统，通常表示文档、查询或兴趣配置文件，常用于AI应用程序中的任务，如相似性搜索或推荐。'
- en: '[⁶](#ftn6) In the context of GPT models like ChatGPT, a “Chain of Thought (CoT)”
    refers to the model’s ability to maintain a coherent line of reasoning over a
    sequence of sentences or exchanges. A CoT demonstration is an example of such
    a reasoning chain.'
  id: totrans-828
  prefs: []
  type: TYPE_NORMAL
  zh: '[⁶](#ftn6) 在GPT模型（如ChatGPT）的背景下，“思维链（CoT）”指的是模型在一系列句子或交流中保持连贯推理的能力。CoT演示就是这样一种推理链的示例。'
- en: '[⁷](#ftn7) An implementation of this architecture pattern is exemplified in
    [chapter 9](c09.xhtml), using the Java programming language.'
  id: totrans-829
  prefs: []
  type: TYPE_NORMAL
  zh: '[⁷](#ftn7) 这种架构模式的实现在[第9章](c09.xhtml)中以Java编程语言为例进行了说明。'
- en: '[⁸](#ftn8) A master prompt defines the collaboration playbook for a given collaboration
    scenario. Master prompts are covered in detail in *[chapter 6, Designing Prompt-based
    Intelligent Assistants](c06.xhtml).*'
  id: totrans-830
  prefs: []
  type: TYPE_NORMAL
  zh: '[⁸](#ftn8) 主提示定义了给定协作场景的协作手册。主提示在*[第6章，设计基于提示的智能助手](c06.xhtml)*中有详细介绍。'
